<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Twin3 Dashboard - Figma Design V2</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@200;275;300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            'kanit': ['Kanit', 'sans-serif'],
            'inter': ['Inter', 'sans-serif'],
          },
          colors: {
            // Figma Design System Colors
            primary: {
              bg: '#0A0A0A',
              surface: 'rgba(255, 255, 255, 0.05)',
              border: 'rgba(255, 255, 255, 0.1)',
            },
            text: {
              primary: '#FFFFFF',
              secondary: '#A4A7AE',
              muted: '#888888',
            },
            accent: {
              green: '#32D583',
              purple: '#D6BBFB',
              gray: '#414651',
            },
            glass: {
              bg: 'rgba(255, 255, 255, 0.1)',
              border: 'rgba(255, 255, 255, 0.2)',
            }
          },
          spacing: {
            '18': '4.5rem',
            '88': '22rem',
          },
          borderRadius: {
            'xl': '12px',
            '2xl': '16px',
          }
        }
      }
    }
  </script>
  <style>
    body {
      font-family: 'Kanit', sans-serif;
      background: #0A0A0A;
      color: #FFFFFF;
    }

    /* Figma Button System - Based on MCP API Data */

    /* Base Button Styles - Figma Exact Specs */
    .figma-btn {
      /* Figma Layout */
      display: flex;
      align-items: center;
      justify-content: center;

      /* Figma Dimensions - Size=s */
      height: 28px;
      padding: 6px 12px;
      border-radius: 8px;
      gap: 6px;

      /* Figma Typography */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 12px;
      line-height: 16px;
      text-align: center;

      /* Figma Interaction */
      cursor: pointer;
      transition: all 0.2s ease;
      border: 1px solid transparent;

      /* Layout Sizing - Hug Content */
      width: fit-content !important;
      min-width: fit-content;
      max-width: none;
      align-self: center;
    }

    /* White Button - Type=White, status=Default */
    .figma-btn-white {
      background: #FFFFFF;
      color: #000000;
      border: 1px solid transparent;
    }

    /* White Button Hover - Type=White, status=Hover */
    .figma-btn-white:hover:not(:disabled) {
      background: transparent;
      color: #FFFFFF;
      border: 1px solid #FFFFFF;
    }

    /* Stroke Button - Type=Stroke, status=Default */
    .figma-btn-stroke {
      background: transparent;
      color: #FFFFFF;
      border: 1px solid #FFFFFF;
    }

    /* Stroke Button Hover - Type=Stroke, status=Hover */
    .figma-btn-stroke:hover:not(:disabled) {
      background: #FFFFFF;
      color: #000000;
      border: 1px solid #FFFFFF;
    }

    /* Grey Button - Type=Grey, status=Default */
    .figma-btn-grey {
      background: #535862;
      color: #A4A7AE;
      border: 1px solid #535862;
    }

    /* Disabled States - All Types */
    .figma-btn:disabled {
      cursor: not-allowed;
      opacity: 0.6;
    }

    .figma-btn-white:disabled {
      background: transparent;
      color: #A4A7AE;
      border: 1px solid #535862;
    }

    .figma-btn-stroke:disabled {
      background: transparent;
      color: #A4A7AE;
      border: 1px solid #535862;
    }

    .figma-btn-grey:disabled {
      background: #535862;
      color: #A4A7AE;
      border: 1px solid #535862;
    }

    /* Figma Account Connection Card - Based on MCP API Data */
    .figma-account-card {
      /* Figma Card Dimensions: 172px × 112px */
      width: 172px;
      height: 112px;

      /* Figma Background: White 5% opacity */
      background: rgba(255, 255, 255, 0.05);

      /* Figma Border: White 10% opacity */
      border: 1px solid rgba(255, 255, 255, 0.1);

      /* Figma Corner Radius: 12px */
      border-radius: 12px;

      /* Figma Padding: 16px all sides */
      padding: 16px;

      /* Figma Layout: Vertical */
      display: flex;
      flex-direction: column;

      /* Figma Background Blur: 8px */
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);

      /* Responsive adjustments */
      width: 100%;
      min-height: 112px;
    }

    /* Figma Account Button - Size=s */
    .figma-account-btn {
      /* Figma Button Dimensions: Size=s (28px height, full width) */
      width: 100%;
      height: 28px;

      /* Figma White Button Background */
      background: #FFFFFF;
      color: #000000;
      border: 1px solid transparent;

      /* Figma Padding: Size=s (12px horizontal, 6px vertical) */
      padding: 6px 12px;

      /* Figma Corner Radius: 8px */
      border-radius: 8px;

      /* Figma Typography: Size=s (Kanit Light 12px/16px) */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 12px;
      line-height: 16px;
      text-align: center;

      /* Figma Layout */
      display: flex;
      align-items: center;
      justify-content: center;

      /* Interaction */
      cursor: pointer;
      transition: all 0.2s ease;
    }

    /* Figma Account Button Hover */
    .figma-account-btn:hover:not(:disabled) {
      background: transparent;
      color: #FFFFFF;
      border: 1px solid #FFFFFF;
    }

    /* Figma Rewards Container - Based on MCP API Data */
    .figma-rewards-container {
      /* Figma Container: 346px × 57px */
      width: 346px;
      height: 57px;

      /* Figma Background: White 5% opacity */
      background: rgba(255, 255, 255, 0.05);

      /* Figma Border: White 10% opacity */
      border: 1px solid rgba(255, 255, 255, 0.1);

      /* Figma Corner Radius: 8px */
      border-radius: 8px;

      /* Figma Padding: 16px horizontal, 8px vertical */
      padding: 8px 16px;

      /* Figma Layout: Horizontal, Center aligned */
      display: flex;
      align-items: center;

      /* Figma Item Spacing: 12px */
      gap: 12px;
    }

    /* $twin3 Label - Figma API Exact */
    .figma-rewards-label {
      /* Figma Text: Kanit Light 18px/28px, Gray/400 */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 18px;
      line-height: 28px;
      color: #A4A7AE;

      /* Figma Size: 54px × 28px */
      width: 54px;
      height: 28px;

      /* Layout */
      display: flex;
      align-items: center;
      flex-shrink: 0;
    }

    /* Separator Line - Figma API Exact */
    .figma-rewards-separator {
      /* Figma Line: 1px width, 41px height, White 10% opacity */
      width: 1px;
      height: 41px;
      background: rgba(255, 255, 255, 0.1);
      flex-shrink: 0;
    }

    /* Reward Amount Area - Figma API Exact */
    .figma-rewards-amount {
      /* Figma Container: 150px × 41px */
      width: 150px;
      height: 41px;

      /* Figma Layout: Horizontal, 2px spacing, counterAxisAlignItems: "MAX" */
      display: flex;
      align-items: flex-end; /* counterAxisAlignItems: "MAX" = 底部對齊 */
      gap: 2px;

      /* Figma paddingBottom: 1 */
      padding-bottom: 1px;
    }

    /* Currency Symbol - Figma API Exact */
    .figma-rewards-currency {
      /* Figma Text: Kanit Light 36px/40px, White */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 36px;
      line-height: 40px;
      color: #FFFFFF;

      /* Figma Size: 20px × 40px */
      width: 20px;
      height: 40px;

      /* Layout */
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    /* Amount Value - Figma API Exact */
    .figma-rewards-value {
      /* Figma Text: Kanit Light 36px/40px, White */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 36px;
      line-height: 40px;
      color: #FFFFFF;

      /* Figma Size: 86px × 40px */
      width: 86px;
      height: 40px;

      /* Layout */
      display: flex;
      align-items: center;
      flex-shrink: 0;
    }

    /* Growth Indicator - Figma API Exact */
    .figma-rewards-growth {
      /* Figma Text: Kanit Light 14px/20px, Green #32D583 */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 14px;
      line-height: 20px;
      color: #32D583;

      /* Figma Size: 40px × 20px */
      width: 40px;
      height: 20px;

      /* Layout */
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    /* Small Button Size - Figma API Size=s */
    .figma-btn-small {
      /* Override height for Size=s */
      height: 28px !important;
      padding: 6px 12px !important;
      font-size: 12px !important;
      line-height: 16px !important;

      /* Prevent text wrapping for all Size=s buttons */
      white-space: nowrap !important;
      overflow: hidden !important;
      text-overflow: ellipsis !important;

      /* Ensure minimum width for text */
      min-width: fit-content !important;
      width: auto !important;
    }

    /* Figma Global Identity Score Card - Based on MCP API Data */
    .figma-identity-score-card {
      /* Figma Container: 488px × 197px */
      width: 100%;
      min-height: 197px;

      /* Figma Background: White 5% opacity */
      background: rgba(255, 255, 255, 0.05);

      /* Figma Border: White 10% opacity */
      border: 1px solid rgba(255, 255, 255, 0.1);

      /* Figma Corner Radius: 12px */
      border-radius: 12px;

      /* Figma Padding: 24px all sides */
      padding: 24px;

      /* Figma Layout: Vertical, 12px spacing */
      display: flex;
      flex-direction: column;
      gap: 12px;

      /* Figma Background Blur: 8px */
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }

    /* Title Section - Figma API Exact */
    .figma-score-title {
      /* Figma Layout: Horizontal, 6px spacing */
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .figma-score-title-text {
      /* Figma Text: Kanit Light 18px/28px, White */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 18px;
      line-height: 28px;
      color: #FFFFFF;

      /* Figma Size: 125px × 28px */
      width: 125px;
      height: 28px;

      /* Layout */
      display: flex;
      align-items: center;
    }

    .figma-help-icon-container {
      /* Figma Help Icon Container: 16px × 16px */
      width: 16px;
      height: 16px;
      position: relative;
      cursor: help;
      flex-shrink: 0;
    }

    .figma-help-icon {
      /* Original Help Icon: 16px × 16px display size */
      width: 16px;
      height: 16px;
      opacity: 0.7;
      transition: opacity 0.2s ease;

      /* Filter to change color from dark to Gray/400 */
      filter: brightness(0) saturate(100%) invert(69%) sepia(8%) saturate(1018%) hue-rotate(202deg) brightness(95%) contrast(89%);
    }

    .figma-help-icon-container:hover .figma-help-icon {
      opacity: 0.8;
    }

    /* Score Section - Figma API Exact */
    .figma-score-section {
      /* Figma Layout: Horizontal, 8px spacing, bottom aligned, center aligned */
      display: flex;
      align-items: flex-end;
      justify-content: center;
      gap: 8px;
    }

    .figma-score-main {
      /* Figma Text: Kanit Light 36px/40px, White */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 36px;
      line-height: 40px;
      color: #FFFFFF;

      /* Figma Size: 62px × 40px */
      width: 62px;
      height: 40px;

      /* Layout */
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .figma-score-total {
      /* Figma Text: Kanit Light 16px/20px, Gray/400 */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 16px;
      line-height: 20px;
      color: #A4A7AE;

      /* Figma Size: 39px × 20px */
      width: 39px;
      height: 20px;

      /* Layout */
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Progress Bar Section - Figma API Exact */
    .figma-progress-container {
      /* Figma Layout: Horizontal, progress bar fills, percentage on right */
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .figma-progress-bar {
      /* Figma Progress Bar: 399px × 8px, relative positioning */
      flex: 1;
      height: 8px;
      position: relative;
      border-radius: 4px;
      overflow: hidden;
    }

    .figma-progress-background {
      /* Figma Background: Gray/600 #414651 */
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #414651;
      border-radius: 4px;
    }

    .figma-progress-fill {
      /* Figma Progress: Green #A6F4C5 */
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      background: #A6F4C5;
      border-radius: 4px;
      transition: width 0.3s ease;
    }

    .figma-progress-percentage {
      /* Figma Text: Kanit Light 14px/20px, Gray/400 for consistency */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 14px;
      line-height: 20px;
      color: #A4A7AE;

      /* Figma Size: 29px × 20px */
      width: 29px;
      height: 20px;

      /* Layout */
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    /* Figma Earned Badges Component - Based on MCP API Data */
    .figma-earned-badge {
      /* Figma Container: 72×22px (coin type) */
      display: inline-flex;
      align-items: center;
      justify-content: center;

      /* Figma Layout: Horizontal, 4px spacing */
      gap: 4px;

      /* Figma Padding: 6px left, 8px right, 2px top/bottom */
      padding: 2px 8px 2px 6px;

      /* Figma Border: White 20% opacity, 1px */
      border: 1px solid rgba(255, 255, 255, 0.2);

      /* Figma Corner Radius: 16px */
      border-radius: 16px;

      /* Figma Background: Transparent */
      background: transparent;

      /* Figma Sizing: Hug contents */
      width: fit-content;
      height: 22px;

      /* Layout */
      flex-shrink: 0;
    }

    /* Overdued state */
    .figma-earned-badge.overdued {
      border-color: rgba(255, 255, 255, 0.1);
      opacity: 0.6;
    }

    /* Badge Icon */
    .figma-earned-badge-icon {
      /* Figma Icon: 12×12px */
      width: 12px;
      height: 12px;
      flex-shrink: 0;

      /* Figma Color: White */
      color: #FFFFFF;
    }

    .figma-earned-badge-icon svg {
      width: 100%;
      height: 100%;
      stroke: currentColor;
      fill: none;
      stroke-width: 1;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    .figma-earned-badge-icon img {
      width: 100%;
      height: 100%;
      /* Filter to make SVG icons white */
      filter: brightness(0) invert(1);
    }

    /* Badge Text */
    .figma-earned-badge-text {
      /* Figma Typography: Kanit Light 12px/18px for consistency */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 12px;
      line-height: 18px;

      /* Figma Color: White */
      color: #FFFFFF;

      /* Figma Text Align: Center */
      text-align: center;

      /* Layout */
      white-space: nowrap;
      flex-shrink: 0;
    }

    /* Rank Badge - With External Link */
    .figma-earned-badge.rank {
      /* Figma Layout: Horizontal, 4px spacing */
      gap: 4px;
      padding: 2px 8px 2px 6px;
    }

    .figma-earned-badge.rank .figma-earned-badge-icon {
      display: none;
    }

    /* External Link Icon - 只在有連結時顯示 */
    .figma-rank-external-link {
      /* Figma Icon: 12×12px */
      width: 12px;
      height: 12px;

      /* Layout */
      flex-shrink: 0;
      cursor: pointer;
      transition: opacity 0.2s ease;
    }

    .figma-rank-external-link:hover {
      opacity: 0.8;
    }

    .figma-rank-external-link img {
      width: 100%;
      height: 100%;
      /* Filter to make SVG icon white */
      filter: brightness(0) invert(1);
    }

    /* 隱藏沒有連結的外部圖標 */
    .figma-earned-badge.rank.no-link .figma-rank-external-link {
      display: none;
    }

    /* 調整沒有連結時的 padding */
    .figma-earned-badge.rank.no-link {
      padding: 2px 8px;
    }

    /* Airdrop Title Section - Figma API Exact */
    .figma-airdrop-title {
      /* Figma Layout: Horizontal, 6px spacing */
      display: flex;
      align-items: center;
      gap: 6px;

      /* Figma Size: 440px × 28px */
      width: 100%;
      height: 28px;
    }

    .figma-airdrop-title-text {
      /* Figma Text: Kanit Light 18px/28px, White */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 18px;
      line-height: 28px;
      color: #FFFFFF;

      /* Figma Size: 155px × 28px */
      width: 155px;
      height: 28px;

      /* Figma Text Align: Left */
      text-align: left;

      /* Layout */
      flex-shrink: 0;
    }

    /* Index Score Section - Figma API Exact */
    .figma-index-score {
      /* Figma Layout: Horizontal grid, equal distribution */
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 0;

      /* Figma Size: 440px × 16px */
      width: 100%;
      height: 16px;
    }

    .figma-index-score-item {
      /* Figma Text: Kanit Light 14px/16px, Gray/400 */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 14px;
      line-height: 16px;
      color: #A4A7AE;

      /* Figma Text Align: Center */
      text-align: center;

      /* Layout */
      display: flex;
      align-items: center;
      justify-content: center;
      flex-grow: 1;
      flex-shrink: 0;
    }

    /* Airdrop Score Progress Bar - Purple Color from Figma API */
    .figma-airdrop-progress-fill {
      /* Figma Progress Fill: Purple #D6BBFB */
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      background: #D6BBFB !important;
      border-radius: 4px;
      transition: width 0.3s ease;
    }

    .figma-airdrop-progress-background {
      /* Figma Progress Background: Gray #414651 */
      width: 100%;
      height: 8px;
      background: #414651 !important;
      border-radius: 4px;
      position: relative;
      overflow: hidden;
    }

    /* Figma Task List Cell Component - Based on MCP API Data */
    .figma-task-list-cell {
      /* Figma Container: 559×82px */
      width: 100%;
      min-height: 82px;

      /* Figma Background: White 5% opacity */
      background: rgba(255, 255, 255, 0.05);

      /* Figma Border: White 10% opacity */
      border: 1px solid rgba(255, 255, 255, 0.1);

      /* Figma Corner Radius: 12px */
      border-radius: 12px;

      /* Figma Padding: 16px all sides */
      padding: 16px;

      /* Figma Layout: Horizontal, 16px spacing */
      display: flex;
      align-items: center;
      gap: 16px;

      /* Figma Background Blur: 8px */
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);

      /* Interaction */
      cursor: pointer;
      transition: all 0.2s ease;
    }

    /* Hover state */
    .figma-task-list-cell:hover {
      background: rgba(255, 255, 255, 0.08);
      border-color: rgba(255, 255, 255, 0.15);
    }

    /* Completed state */
    .figma-task-list-cell.completed {
      background: rgba(255, 255, 255, 0.03);
      border-color: rgba(255, 255, 255, 0.08);
      opacity: 0.7;
    }

    /* Company Logo Container */
    .figma-task-logo {
      /* Figma Logo: 32×32px */
      width: 32px;
      height: 32px;

      /* Figma Border: White 10% opacity */
      border: 1px solid rgba(255, 255, 255, 0.1);

      /* Figma Corner Radius: 4px */
      border-radius: 4px;

      /* Figma Layout: Center */
      display: flex;
      align-items: center;
      justify-content: center;

      /* Figma Background: Transparent */
      background: transparent;

      /* Layout */
      flex-shrink: 0;
    }

    .figma-task-logo img,
    .figma-task-logo svg {
      width: 20px;
      height: 20px;
      color: #FFFFFF;
    }

    /* Task Content Container */
    .figma-task-content {
      /* Figma Layout: Vertical, 8px spacing */
      display: flex;
      flex-direction: column;
      gap: 8px;
      flex: 1;
      min-width: 0;
    }

    /* Task Description */
    .figma-task-description {
      /* Figma Typography: Kanit Light 16px/24px */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 16px;
      line-height: 24px;

      /* Figma Color: White */
      color: #FFFFFF;

      /* Figma Text Align: Left */
      text-align: left;

      /* Layout */
      margin: 0;
      overflow: hidden;
      text-overflow: ellipsis;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
    }

    /* Task Badges Container */
    .figma-task-badges {
      /* Figma Layout: Horizontal, 8px spacing */
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    /* Task Action Button */
    .figma-task-action {
      /* Layout */
      flex-shrink: 0;
    }

    /* Figma Table Cell Component - Based on MCP API Data */
    .figma-table-cell {
      /* Figma Layout: Horizontal, center aligned */
      display: inline-flex;
      align-items: center;

      /* Figma Padding: 8px left/right, 6px top/bottom */
      padding: 6px 8px;

      /* Figma Background: Transparent */
      background: transparent;

      /* Figma Sizing: Hug contents */
      width: fit-content;
      height: 34px;

      /* Layout */
      flex-shrink: 0;
    }

    /* Title type - with bottom border */
    .figma-table-cell.title {
      /* Figma Gap: 10px */
      gap: 10px;

      /* Figma Border: Bottom only, White 20% opacity */
      border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    }

    /* Text type - no border */
    .figma-table-cell.text {
      /* Figma Gap: 8px */
      gap: 8px;

      /* No border */
      border: none;
    }

    /* Table Cell Text */
    .figma-table-cell-text {
      /* Figma Typography: Kanit Light 16px/22.4px */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 16px;
      line-height: 22.4px;

      /* Figma Color: White */
      color: #FFFFFF;

      /* Figma Text Align: Left, Vertical Center */
      text-align: left;

      /* Layout */
      margin: 0;
      white-space: nowrap;
      flex-shrink: 0;
    }

    /* More Button */
    .figma-table-cell-more {
      /* Figma Icon: 16×16px */
      width: 16px;
      height: 16px;

      /* Figma Color: Gray/400 */
      color: #A4A7AE;

      /* Layout */
      flex-shrink: 0;
      cursor: pointer;
      transition: opacity 0.2s ease;
    }

    .figma-table-cell-more:hover {
      opacity: 0.8;
    }

    .figma-table-cell-more svg {
      width: 100%;
      height: 100%;
      stroke: currentColor;
      fill: none;
      stroke-width: 1.33;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    /* Figma Matrix Traits Cell Component - Based on MCP API Data */
    .figma-matrix-traits-cell {
      /* Figma Layout: Vertical, 16px spacing */
      display: flex;
      flex-direction: column;
      gap: 16px;

      /* Figma Sizing: Full width */
      width: 100%;

      /* Layout */
      flex-shrink: 0;
    }

    /* Title Row */
    .figma-matrix-title-row {
      /* Figma Layout: Horizontal, space between */
      display: flex;
      align-items: center;
      justify-content: space-between;

      /* Figma Gap: 8px */
      gap: 8px;
    }

    /* Title Section */
    .figma-matrix-title-section {
      /* Figma Layout: Horizontal, 8px spacing */
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* Matrix Title Text */
    .figma-matrix-title {
      /* Figma Typography: Kanit Light 14px/20px */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 14px;
      line-height: 20px;

      /* Figma Color: Gray/400 */
      color: #A4A7AE;

      /* Layout */
      margin: 0;
      white-space: nowrap;
      flex-shrink: 0;
    }

    /* Matrix Score Text */
    .figma-matrix-score {
      /* Figma Typography: Kanit Light 14px/20px */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 14px;
      line-height: 20px;

      /* Figma Color: Gray/400 */
      color: #A4A7AE;

      /* Layout */
      margin: 0;
      white-space: nowrap;
      flex-shrink: 0;
    }

    /* Matrix Progress Bar */
    .figma-matrix-progress {
      /* Figma Container: 503×8px */
      width: 100%;
      height: 8px;
      position: relative;

      /* Figma Corner Radius: 4px */
      border-radius: 4px;
      overflow: hidden;

      /* Layout */
      flex-shrink: 0;
    }

    .figma-matrix-progress-background {
      /* Figma Background: Gray/700 #414651 */
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #414651;
      border-radius: 4px;
    }

    .figma-matrix-progress-fill {
      /* Figma Progress: White */
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      background: #FFFFFF;
      border-radius: 4px;
      transition: width 0.3s ease;
    }

    /* Figma Modal Component - Based on MCP API Data */
    .figma-modal-overlay {
      /* Figma Overlay: Full screen */
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1000;

      /* Figma Background: Dark overlay */
      background: rgba(0, 0, 0, 0.5);

      /* Figma Layout: Center modal */
      display: flex;
      align-items: center;
      justify-content: center;

      /* Animation */
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .figma-modal-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .figma-modal {
      /* Figma Modal Container */
      width: 100%;
      max-width: 400px;
      margin: 20px;

      /* Figma Background: Dark background */
      background: #1A1A1A;

      /* Figma Border: White border */
      border: 1px solid rgba(255, 255, 255, 0.1);

      /* Figma Corner Radius */
      border-radius: 12px;

      /* Figma Shadow: xl shadow */
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);

      /* Figma Background Blur */
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);

      /* Animation */
      transform: scale(0.95);
      transition: transform 0.3s ease;
    }

    .figma-modal-overlay.active .figma-modal {
      transform: scale(1);
    }

    .figma-modal-content {
      /* Figma Content: 352×128px area */
      padding: 24px;

      /* Figma Layout: Vertical, 12px spacing */
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 12px;
      text-align: center;
    }

    .figma-modal-content.left-aligned {
      align-items: flex-start;
      text-align: left;
    }

    /* Featured Icon */
    .figma-modal-icon {
      /* Figma Icon: 20×20px */
      width: 48px;
      height: 48px;

      /* Figma Background: Success color circle */
      background: #10B981;

      /* Figma Layout: Center icon */
      display: flex;
      align-items: center;
      justify-content: center;

      /* Figma Corner Radius: Circle */
      border-radius: 50%;

      /* Layout */
      flex-shrink: 0;
    }

    .figma-modal-icon svg {
      width: 24px;
      height: 24px;
      color: #FFFFFF;
      stroke: currentColor;
      fill: none;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    /* Modal Title */
    .figma-modal-title {
      /* Figma Typography: Kanit Light 18px */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 18px;
      line-height: 24px;

      /* Figma Color: White */
      color: #FFFFFF;

      /* Layout */
      margin: 0;
    }

    /* Modal Description */
    .figma-modal-description {
      /* Figma Typography: Kanit Light 14px */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 14px;
      line-height: 20px;

      /* Figma Color: Gray/400 */
      color: #A4A7AE;

      /* Layout */
      margin: 0;
    }

    /* Modal Actions */
    .figma-modal-actions {
      /* Figma Layout: Horizontal, 12px spacing */
      display: flex;
      gap: 12px;
      width: 100%;
      margin-top: 8px;
    }

    .figma-modal-actions.stacked {
      /* Figma Layout: Vertical for stacked */
      flex-direction: column;
    }

    .figma-modal-actions .figma-btn {
      flex: 1;
    }

    /* Figma Tooltip Component - Based on MCP API Data */
    .figma-tooltip {
      /* Figma Tooltip Container: 296px × 71px */
      position: absolute;
      bottom: calc(100% + 8px);
      left: 50%;
      transform: translateX(-50%);

      /* Figma Background: Black 80% opacity */
      background: rgba(0, 0, 0, 0.8);

      /* Figma Border: Gray/700 #252B36 */
      border: 1px solid #252B36;

      /* Figma Corner Radius: 8px */
      border-radius: 8px;

      /* Figma Padding: 12px all sides */
      padding: 12px;

      /* Figma Size Constraints */
      width: 296px;
      max-width: 296px;

      /* Figma Layout: Vertical, 4px spacing */
      display: flex;
      flex-direction: column;
      gap: 4px;

      /* Figma Shadow Effects */
      box-shadow:
        0 2px 4px -2px rgba(10, 13, 18, 0.06),
        0 4px 8px -2px rgba(10, 13, 18, 0.1);

      /* Visibility */
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.2s ease, visibility 0.2s ease;

      /* Z-index */
      z-index: 1000;
    }

    /* Tooltip Arrow */
    .figma-tooltip::after {
      content: '';
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 6px solid transparent;
      border-right: 6px solid transparent;
      border-top: 6px solid rgba(0, 0, 0, 0.8);
    }

    /* Tooltip Title */
    .figma-tooltip-title {
      /* Figma Text: Kanit Light 12px/16px, White */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 12px;
      line-height: 16px;
      color: #FFFFFF;
      margin: 0;
    }

    /* Tooltip Text */
    .figma-tooltip-text {
      /* Figma Text: Kanit Light 12px/16.8px, White */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 12px;
      line-height: 16.8px;
      color: #FFFFFF;
      margin: 0;
    }

    /* Show tooltip on hover - 支持點擊內部連結 */
    .figma-help-icon-container:hover .figma-tooltip,
    .figma-tooltip:hover {
      opacity: 1;
      visibility: visible;
    }

    /* Tooltip 連結樣式 */
    .figma-tooltip a {
      color: #60A5FA; /* 藍色連結 */
      text-decoration: underline;
      cursor: pointer;
      transition: color 0.2s ease;
    }

    .figma-tooltip a:hover {
      color: #93C5FD; /* 懸停時更亮的藍色 */
    }

    /* Responsive tooltip positioning */
    @media (max-width: 768px) {
      .figma-tooltip {
        width: 250px;
        max-width: 250px;
        left: auto;
        right: 0;
        transform: none;
      }

      .figma-tooltip::after {
        left: auto;
        right: 20px;
        transform: none;
      }
    }

    /* Legacy Button Support */
    .btn-primary {
      background: white;
      color: black;
      border: 1px solid #373737;
      padding: 6px 12px;
      border-radius: 8px;
      font-weight: 300;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: 'Kanit', sans-serif;
      font-size: 12px;
      line-height: 16px;
      height: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }

    .btn-primary:hover:not(:disabled) {
      background: transparent;
      color: white;
      border-color: white;
    }

    .btn-secondary {
      background: transparent;
      color: white;
      border: 1px solid #FFFFFF;
      padding: 6px 12px;
      border-radius: 8px;
      font-weight: 300;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: 'Kanit', sans-serif;
      font-size: 12px;
      line-height: 16px;
      height: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }

    .btn-secondary:hover:not(:disabled) {
      background: white;
      color: black;
      border-color: white;
    }

    .btn-small {
      /* Already sized correctly for Figma specs */
    }

    /* Glass Morphism Effects */
    .glass-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
    }

    .glass-surface {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    /* Progress Bars */
    .progress-bar {
      background: #414651;
      border-radius: 4px;
      overflow: hidden;
    }

    .progress-fill-purple {
      background: #D6BBFB;
      height: 100%;
      transition: width 0.3s ease;
    }

    .progress-fill-green {
      background: #32D583;
      height: 100%;
      transition: width 0.3s ease;
    }

    /* Custom Scrollbar */
    .custom-scrollbar::-webkit-scrollbar {
      width: 6px;
    }

    .custom-scrollbar::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 3px;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.3);
      border-radius: 3px;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
      background: rgba(255, 255, 255, 0.5);
    }

    /* Connected Button Styles - Figma Account Card Size=s */
    .btn-connected {
      /* Figma Account Card Connected Button: Size=s (28px height) */
      width: 100% !important;
      height: 28px !important;

      /* Figma background: transparent */
      background: transparent !important;

      /* Figma text color: Gray/400 RGB(164, 167, 174) */
      color: #A4A7AE !important;

      /* Figma border: Gray/600 RGB(83, 88, 98) */
      border: 1px solid #535862 !important;

      /* Figma corner radius: 8px */
      border-radius: 8px !important;

      /* Figma padding: Size=s (12px horizontal, 6px vertical) */
      padding: 6px 12px !important;

      /* Figma typography: Size=s (Kanit Light 12px/16px) */
      font-family: 'Kanit', sans-serif !important;
      font-weight: 300 !important;
      font-size: 12px !important;
      line-height: 16px !important;
      text-align: center !important;

      /* Figma layout: horizontal center */
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;

      /* Figma item spacing: 6px */
      gap: 6px !important;

      /* Disabled state */
      cursor: default !important;
      pointer-events: none !important;
      transition: none !important;
    }

    .btn-connected:hover {
      background: transparent !important;
      color: #A4A7AE !important;
      border: 1px solid #535862 !important;
      transform: none !important;
    }

    /* Check icon - Size=s: 12px container, 10px radius, Gray/400 background */
    .btn-connected .check-icon-container {
      width: 12px !important;
      height: 12px !important;
      background: #A4A7AE !important;
      border-radius: 10px !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      flex-shrink: 0 !important;
    }

    /* Check icon vector - Size=s: ~6px × 5px, black color */
    .btn-connected .check-icon-container svg {
      width: 6px !important;
      height: 5px !important;
      color: #000000 !important;
    }

    /* Responsive Design */
    @media (max-width: 1024px) {
      .dashboard-container {
        padding: 24px 32px;
      }
    }

    @media (max-width: 768px) {
      .dashboard-container {
        padding: 16px;
      }
      
      .section-grid {
        grid-template-columns: 1fr;
        gap: 16px;
      }
    }

    /* Navigation bar styles - matching welcome.html */
    .nav-bar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      backdrop-filter: blur(8px);
      background: rgba(0, 0, 0, 0.3);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 1rem;
    }

    /* Responsive padding matching welcome.html */
    @media (min-width: 768px) {
      .nav-bar {
        padding: 1rem 2rem;
      }
    }

    @media (min-width: 1024px) {
      .nav-bar {
        padding: 1rem 4rem;
      }
    }

    .nav-logo {
      display: flex;
      align-items: center;
      text-decoration: none;
    }

    .nav-logo img {
      width: 2.5rem;
      height: 2.5rem;
    }

    @media (min-width: 768px) {
      .nav-logo img {
        width: 2.5rem;
        height: 2.5rem;
      }
    }

    .mobile-menu-btn {
      display: block;
      color: white;
      background: none;
      border: none;
      cursor: pointer;
    }

    @media (min-width: 768px) {
      .mobile-menu-btn {
        display: none;
      }
    }

    .nav-actions {
      display: none;
      align-items: center;
    }

    @media (min-width: 768px) {
      .nav-actions {
        display: flex;
      }
    }

    .nav-link {
      display: block;
      padding: 0.5rem 1rem;
      color: white;
      text-decoration: none;
      transition: all 0.2s ease;
      font-weight: 300;
      font-size: 0.875rem;
      letter-spacing: 0.08em;
    }

    .nav-link:hover {
      color: #cccccc;
    }

    .nav-link-focused {
      color: white;
      font-weight: 300;
    }

    .wallet-button {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      border: 1px solid #373737;
      padding: 0.4rem 0.6rem;
      border-radius: 0.5rem;
      margin-left: 1rem;
    }

    .wallet-balance {
      color: #9ca3af;
      font-weight: 300;
      font-size: 0.75rem;
    }

    .wallet-address {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      color: #fff;
      font-weight: 300;
      font-size: 0.75rem;
    }

    .wallet-avatar {
      width: 1.25rem;
      height: 1.25rem;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
    }

    .wallet-address-text {
      font-family: 'Courier New', monospace;
    }

    .dropdown-icon {
      color: #9ca3af;
    }

    /* Mobile menu styles */
    .mobile-menu {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.95);
      backdrop-filter: blur(8px);
      z-index: 1100;
      display: none;
      flex-direction: column;
      padding: 2rem;
    }

    .mobile-menu.open {
      display: flex;
    }

    .mobile-menu-close {
      align-self: flex-end;
      background: none;
      border: none;
      color: white;
      font-size: 1.5rem;
      cursor: pointer;
      margin-bottom: 2rem;
    }

    .mobile-menu-links {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .mobile-menu-link {
      color: white;
      text-decoration: none;
      font-size: 1.125rem;
      font-weight: 300;
      padding: 1rem 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .mobile-menu-link:hover {
      color: #cccccc;
    }

    .mobile-menu-link-focused {
      color: white;
      font-weight: 300;
    }

    /* Adjust main content for fixed nav */
    .page-container {
      padding-top: 80px;
    }

    /* Footer button styles */
    .btn-primary {
      background: #32D583;
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 0.5rem;
      font-weight: 300;
      cursor: pointer;
      transition: opacity 0.2s ease;
    }

    .btn-primary:hover {
      opacity: 0.8;
    }

    .btn-small {
      padding: 0.4rem 0.8rem;
      font-size: 0.875rem;
    }
    /* Score Update Animation */
    .score-updating {
      animation: pulse 1s ease-in-out;
    }

    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.7; }
      100% { opacity: 1; }
    }

    .update-notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(50, 213, 131, 0.9);
      color: white;
      padding: 12px 20px;
      border-radius: 8px;
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 14px;
      z-index: 1000;
      transform: translateX(100%);
      transition: transform 0.3s ease;
    }

    .update-notification.show {
      transform: translateX(0);
    }

    /* Profile Edit Modal - Figma Exact */
    .profile-edit-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(8px);
      z-index: 2000;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .profile-edit-modal.show {
      opacity: 1;
      visibility: visible;
    }

    /* Modal Content - Figma: 400×494px */
    .profile-edit-modal-content {
      width: 400px;
      height: 494px;
      /* Figma Background: #141314 */
      background: #141314;
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 24px;
      box-sizing: border-box;
      transform: scale(0.9);
      transition: transform 0.3s ease;
      display: flex;
      flex-direction: column;
      /* Figma Shadow Effects */
      box-shadow:
        0 0 0 1px rgba(10, 13, 18, 0.03),
        0 1px 1px -0.5px rgba(10, 13, 18, 0.08);
    }

    .profile-edit-modal.show .profile-edit-modal-content {
      transform: scale(1);
    }

    /* Modal Title - Figma Exact */
    .profile-edit-modal h2 {
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 14px;
      line-height: 20px;
      color: white;
      margin: 0 0 8px 0;
      text-align: left;
    }

    /* Form Group - Figma Exact */
    .profile-edit-form-group {
      margin-bottom: 20px;
      width: 100%;
    }

    /* Label - Figma: Username, 14px font-weight 300 */
    .profile-edit-form-group label {
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 14px;
      line-height: 20px;
      color: white;
      display: block;
      margin-bottom: 8px;
    }

    /* Input - Figma: 352×50px, font-weight 275 */
    .profile-edit-form-group input {
      width: 352px;
      height: 50px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      padding: 0 17px;
      font-family: 'Kanit', sans-serif;
      font-weight: 275;
      font-size: 16px;
      line-height: 23.92px;
      color: white;
      box-sizing: border-box;
    }

    .profile-edit-form-group input:focus {
      outline: none;
      border-color: rgba(255, 255, 255, 0.3);
      background: rgba(255, 255, 255, 0.08);
    }

    .profile-edit-form-group input::placeholder {
      color: rgba(255, 255, 255, 0.5);
    }

    /* Avatar Section - Figma Exact */
    .profile-edit-avatar-section {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 20px;
      margin-bottom: 20px;
      width: 100%;
    }

    /* Your photo title */
    .profile-edit-photo-title {
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 14px;
      line-height: 20px;
      color: white;
      margin: 0;
    }

    /* Your photo description */
    .profile-edit-photo-description {
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 14px;
      line-height: 20px;
      color: rgba(164, 167, 174, 1);
      margin: 0 0 20px 0;
    }

    /* Avatar Preview - Figma: 64×64px */
    .profile-edit-avatar-preview {
      width: 64px;
      height: 64px;
      border-radius: 50%;
      background: #414651;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      flex-shrink: 0;
    }

    .profile-edit-avatar-preview span {
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 24px;
      color: white;
    }

    .profile-edit-avatar-preview img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* Figma 精確實現 - File upload 組件 (117:5229) */
    .profile-edit-upload-area {
      /* 精確尺寸: 343×128px */
      width: 343px;
      height: 128px;

      /* 精確內邊距: paddingLeft: 24, paddingRight: 24, paddingTop: 16, paddingBottom: 16 */
      padding: 16px 24px;
      box-sizing: border-box;

      /* 精確背景: rgba(1, 1, 1, 0.05) */
      background: rgba(255, 255, 255, 0.05);

      /* 精確圓角: cornerRadius: 8 */
      border-radius: 8px;

      /* 精確邊框: strokeWeight: 1, opacity: 0.1 */
      border: 1px solid rgba(255, 255, 255, 0.1);

      /* 精確佈局: layoutMode: VERTICAL, itemSpacing: 4, counterAxisAlignItems: CENTER */
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 4px;

      /* 確保上傳區域在父容器中對齊 */
      align-self: stretch; /* 填滿父容器寬度 */

      cursor: pointer;
      transition: all 0.2s ease;
      position: relative;
    }

    /* Hover state */
    .profile-edit-upload-area:hover {
      background: rgba(255, 255, 255, 0.08);
      border-color: rgba(255, 255, 255, 0.15);
    }

    /* 內容容器 - layoutMode: VERTICAL, itemSpacing: 12 */
    .upload-content-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 12px;
    }

    /* 精確圖標容器 - 40×40px */
    .profile-edit-upload-area .upload-icon {
      /* 精確尺寸: width: 40, height: 40 */
      width: 40px;
      height: 40px;

      /* 精確背景: rgba(0.96, 0.96, 0.96, 1) */
      background: rgb(245, 245, 245);

      /* 精確圓角: cornerRadius: 28 (完全圓形) */
      border-radius: 50%;

      /* 精確邊框: strokeWeight: 6, rgba(0.98, 0.98, 0.98, 1) */
      border: 6px solid rgb(250, 250, 250);

      /* 居中對齊 */
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    /* 內部圖標容器 - 20×20px */
    .upload-icon-inner {
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* 精確文字容器 - layoutMode: VERTICAL, itemSpacing: 4 */
    .upload-text-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
    }

    /* 精確第一行 - layoutMode: HORIZONTAL, itemSpacing: 4, primaryAxisAlignItems: CENTER */
    .upload-text-line-1 {
      display: flex;
      align-items: center;
      gap: 4px;
      justify-content: center;
    }

    /* 精確 "Click to upload" 文字 */
    .profile-edit-upload-text {
      /* 精確字體: fontFamily: "Kanit", fontWeight: 300, fontSize: 14, lineHeightPx: 20 */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 14px;
      line-height: 20px;

      /* 精確顏色: rgba(1, 1, 1, 1) - 純白色 */
      color: rgb(255, 255, 255);

      /* 精確對齊: textAlignHorizontal: "CENTER" */
      text-align: center;
      margin: 0;
    }

    /* 精確 "or drag and drop" 文字 */
    .profile-edit-upload-text-secondary {
      /* 精確字體: fontFamily: "Kanit", fontWeight: 300, fontSize: 14, lineHeightPx: 20 */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 14px;
      line-height: 20px;

      /* 精確顏色: rgba(0.64, 0.66, 0.68, 1) */
      color: rgb(163, 168, 173);

      /* 精確對齊: textAlignHorizontal: "CENTER" */
      text-align: center;
      margin: 0;
    }

    /* 精確支持文字 */
    .profile-edit-upload-subtext {
      /* 精確字體: fontFamily: "Kanit", fontWeight: 300, fontSize: 14, lineHeightPx: 20 */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 14px;
      line-height: 20px;

      /* 精確顏色: rgba(0.64, 0.66, 0.68, 1) */
      color: rgb(163, 168, 173);

      /* 精確對齊: textAlignHorizontal: "LEFT" */
      text-align: center;
      margin: 0;
    }

    /* 簡化的進度指示 - 只在需要時顯示 */
    .upload-progress {
      width: 100%;
      height: 2px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 1px;
      overflow: hidden;
      margin-top: 8px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .profile-edit-upload-area.uploading .upload-progress {
      opacity: 1;
    }

    .upload-progress-bar {
      height: 100%;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 1px;
      width: 0%;
      transition: width 0.3s ease;
    }

    /* 簡化的成功狀態指示 */
    .upload-success-indicator {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .profile-edit-upload-area.success .upload-success-indicator {
      opacity: 1;
    }

    .profile-edit-upload-area.success .upload-content-container {
      opacity: 0.3;
    }

    /* 簡化的重置按鈕 - 只在成功狀態顯示 */
    .upload-remove-btn {
      position: absolute;
      top: 8px;
      right: 8px;
      width: 20px;
      height: 20px;
      background: rgba(255, 255, 255, 0.8);
      border: none;
      border-radius: 50%;
      color: #666;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: all 0.2s ease;
      z-index: 10;
    }

    .profile-edit-upload-area.success .upload-remove-btn {
      opacity: 1;
    }

    .upload-remove-btn:hover {
      background: rgba(239, 68, 68, 0.8);
      color: white;
    }

    .upload-remove-btn svg {
      width: 10px;
      height: 10px;
      stroke-width: 2;
    }

    /* 精確 Figma Frame 結構 CSS */

    /* 117:5223 "Content" 框架 - 343×272px, VERTICAL, itemSpacing: 20 */
    .profile-edit-content-frame {
      width: 343px;
      height: 272px;
      display: flex;
      flex-direction: column;
      gap: 20px; /* itemSpacing: 20 */
    }

    /* 117:5224 "Text and supporting text" 框架 - 343×40px */
    .profile-edit-text-frame {
      width: 343px;
      height: 40px;
      display: flex;
      flex-direction: column;
      gap: 4px; /* 標題和描述間距 */
    }

    /* 117:5227 "Avatar and file upload" 框架 - 343×212px, VERTICAL, itemSpacing: 20 */
    .profile-edit-avatar-upload-frame {
      width: 343px;
      height: 212px;
      display: flex;
      flex-direction: column;
      align-items: flex-start; /* 改為靠左對齊 */
      gap: 20px; /* itemSpacing: 20 */
    }

    /* 確保圖標顏色正確 */
    .profile-edit-upload-area.success .upload-icon svg {
      color: rgba(34, 197, 94, 1);
    }

    .profile-edit-upload-area.error .upload-icon svg {
      color: rgba(239, 68, 68, 1);
    }

    .profile-edit-upload-area.uploading .upload-icon svg {
      color: rgba(59, 130, 246, 1);
    }

    /* 隱藏/顯示元素的動畫 */
    .upload-icon svg {
      transition: opacity 0.3s ease;
    }

    /* Figma Tab Bar Components - Based on MCP Design */

    /* Tab Component - Default State (Current=False, State=Default) */
    .figma-tab-default {
      /* Figma Exact Dimensions from API: 48×38px (sm) */
      height: 38px;
      min-width: 48px;
      padding: 8px 16px;

      /* Figma Background: Transparent (no background) */
      background: transparent;
      border: none;
      border-radius: 6px;

      /* Figma Typography: Kanit 300 16px, White text */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 16px;
      line-height: 16px;
      color: rgba(255, 255, 255, 1);

      /* Layout */
      display: flex;
      align-items: center;
      justify-content: center;
      white-space: nowrap;
      cursor: pointer;
      transition: all 0.2s ease;
      flex-shrink: 0;
    }

    /* Tab Component - Active State (Current=True, State=Default) */
    .figma-tab-active {
      /* Figma Exact Dimensions from API: 48×38px (sm) */
      height: 38px;
      min-width: 48px;
      padding: 8px 16px;

      /* Figma Background: White (rgba(255, 255, 255, 1)) */
      background: rgba(255, 255, 255, 1);
      border: none;
      border-radius: 6px;

      /* Figma Typography: Kanit 300 16px, Black text */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 16px;
      line-height: 16px;
      color: rgba(0, 0, 0, 1);

      /* Layout */
      display: flex;
      align-items: center;
      justify-content: center;
      white-space: nowrap;
      cursor: pointer;
      transition: all 0.2s ease;
      flex-shrink: 0;
    }

    /* Tab Component - Hover State (Current=False, State=Hover) */
    .figma-tab-hover {
      /* Figma Exact Dimensions from API: 48×38px (sm) */
      height: 38px;
      min-width: 48px;
      padding: 8px 16px;

      /* Figma Background: White (rgba(255, 255, 255, 1)) */
      background: rgba(255, 255, 255, 1);
      border: none;
      border-radius: 6px;

      /* Figma Typography: Kanit 300 16px, Black text */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 16px;
      line-height: 16px;
      color: rgba(0, 0, 0, 1);

      /* Layout */
      display: flex;
      align-items: center;
      justify-content: center;
      white-space: nowrap;
      cursor: pointer;
      transition: all 0.2s ease;
      flex-shrink: 0;
    }

    /* Chevron Component - 145-3148 (Already implemented) */
    .figma-chevron-left,
    .figma-chevron-right {
      width: 32px;
      height: 32px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 6px;
      color: rgba(255, 255, 255, 0.7);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
      flex-shrink: 0;
    }

    .figma-chevron-left:hover,
    .figma-chevron-right:hover {
      background: rgba(255, 255, 255, 0.1);
      border-color: rgba(255, 255, 255, 0.2);
      color: white;
    }

    /* Tab Bar Container */
    .figma-tabs-container {
      position: relative;
      width: 100%;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* Tab Bar - Based on Figma API Data */
    .figma-tabs-bar {
      /* Figma Background: #242424 (dark gray) */
      background: #242424;
      border-radius: 8px;
      padding: 4px;

      /* Layout */
      display: flex;
      align-items: center;
      gap: 4px;
      transition: all 0.3s ease;
      overflow: hidden;
      flex: 1;
    }

    .figma-tabs-bar.hug-container {
      width: auto;
      flex: none;
    }

    .figma-tabs-bar.fill-container {
      width: 100%;
      flex: 1;
    }

    /* Individual Tab */
    .figma-tab {
      /* Figma Tab Dimensions */
      height: 32px;
      padding: 8px 16px;

      /* Figma Background & Border */
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 6px;

      /* Figma Typography */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 14px;
      line-height: 16px;
      color: rgba(255, 255, 255, 0.7);

      /* Layout */
      display: flex;
      align-items: center;
      justify-content: center;
      white-space: nowrap;
      cursor: pointer;
      transition: all 0.2s ease;
      flex-shrink: 0;
    }

    /* Active Tab */
    .figma-tab.active {
      background: rgba(255, 255, 255, 0.1);
      border-color: rgba(255, 255, 255, 0.2);
      color: white;
    }

    /* Tab Hover */
    .figma-tab:hover:not(.active) {
      background: rgba(255, 255, 255, 0.08);
      border-color: rgba(255, 255, 255, 0.15);
      color: rgba(255, 255, 255, 0.9);
    }

    /* Tab Component - Disabled State (State=Disable) */
    .figma-tab-disabled {
      /* Figma Exact Dimensions from API: 48×38px (sm) */
      height: 38px;
      min-width: 48px;
      padding: 8px 16px;

      /* Figma Background: Transparent (no background) */
      background: transparent;
      border: none;
      border-radius: 6px;

      /* Figma Typography: Kanit 300 16px, Gray text */
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 16px;
      line-height: 16px;
      color: rgba(164, 167, 174, 1);

      /* Layout */
      display: flex;
      align-items: center;
      justify-content: center;
      white-space: nowrap;
      cursor: not-allowed;
      transition: all 0.2s ease;
      flex-shrink: 0;
      opacity: 0.6;
    }

    /* Plus Button */
    .figma-tabs-plus-btn {
      width: 32px;
      height: 32px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 6px;
      color: rgba(255, 255, 255, 0.7);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
      flex-shrink: 0;
    }

    .figma-tabs-plus-btn:hover {
      background: rgba(255, 255, 255, 0.1);
      border-color: rgba(255, 255, 255, 0.2);
      color: white;
    }

    /* Chevron Navigation Buttons */
    .figma-tabs-chevron {
      width: 32px;
      height: 32px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 6px;
      color: rgba(255, 255, 255, 0.7);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
      opacity: 0;
      visibility: hidden;
      flex-shrink: 0;
    }

    .figma-tabs-chevron:hover {
      background: rgba(255, 255, 255, 0.1);
      border-color: rgba(255, 255, 255, 0.2);
      color: white;
    }

    /* Show chevrons on container hover when in overflow mode */
    .figma-tabs-container.overflow-mode:hover .figma-tabs-chevron {
      opacity: 1;
      visibility: visible;
    }

    /* Chevron disabled state */
    .figma-tabs-chevron.disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }

    .figma-tabs-chevron.disabled:hover {
      background: rgba(255, 255, 255, 0.05);
      border-color: rgba(255, 255, 255, 0.1);
      color: rgba(255, 255, 255, 0.7);
    }

    .profile-edit-upload-btn {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 8px;
      padding: 8px 16px;
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 14px;
      color: white;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .profile-edit-upload-btn:hover {
      background: rgba(255, 255, 255, 0.15);
    }

    /* Buttons Container - Figma: 352×32px */
    .profile-edit-buttons {
      display: flex;
      gap: 12px;
      justify-content: space-between;
      margin-top: auto;
      width: 100%;
      height: 32px;
    }

    /* Button Base - Figma: 170×32px */
    .profile-edit-btn {
      width: 170px;
      height: 32px;
      border-radius: 8px;
      font-family: 'Kanit', sans-serif;
      font-weight: 300;
      font-size: 14px;
      line-height: 16px;
      cursor: pointer;
      transition: all 0.2s ease;
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Cancel Button - Figma Exact: Border style */
    .profile-edit-btn-cancel {
      background: transparent;
      color: white;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .profile-edit-btn-cancel:hover {
      background: rgba(255, 255, 255, 0.05);
      border-color: rgba(255, 255, 255, 0.2);
    }

    /* Confirm Button - Figma Exact: White background */
    .profile-edit-btn-confirm {
      background: white;
      color: black;
      border: none;
    }

    .profile-edit-btn-confirm:hover {
      background: rgba(255, 255, 255, 0.9);
    }

    #avatar-file-input {
      display: none;
    }

    /* Avatar Edit Button - Figma Exact */
    .avatar-edit-btn {
      position: absolute;
      bottom: -2px;
      right: -2px;
      display: flex;
      width: 20px;
      height: 20px;
      padding: 3px;
      justify-content: center;
      align-items: center;
      flex-shrink: 0;
      aspect-ratio: 1/1;

      border-radius: 12px;
      border: 1.5px solid #000;
      background: #414651;

      cursor: pointer;
      transition: all 0.2s ease;
    }

    .avatar-edit-btn:hover {
      background: #4a5058;
      transform: scale(1.05);
    }

    .avatar-edit-btn svg {
      width: 14px;
      height: 14px;
      flex-shrink: 0;
    }


  </style>

  <script>
    // 模擬數據系統
    class MockDataSystem {
      constructor() {
        this.baseData = {
          humanityIndex: {
            current: 204,
            total: 255,
            percentage: 80,
            rank: { current: 12, total: 1781 }
          },
          airdropScore: {
            current: 187,
            total: 265,
            percentage: 70.6,
            rank: { current: 12, total: 1781 },
            indexScores: { Hi: 25, Bi: 30, Di: 45, Si: 40, H: [15, 20, 12] }
          },
          matrixTraits: {
            technicalSkills: { current: 187, total: 255, percentage: 73.3, rank: { current: 42, total: 1781 } },
            communication: { current: 204, total: 255, percentage: 80, rank: { current: 156, total: 1781 } },
            leadership: { current: 142, total: 255, percentage: 55.7, rank: { current: 89, total: 1781 } },
            innovation: { current: 178, total: 255, percentage: 69.8, rank: { current: 234, total: 1781 } }
          },
          connectedAccounts: {
            twitter: false,
            discord: false,
            github: false,
            linkedin: false,
            worldcoin: false
          }
        };

        this.currentData = JSON.parse(JSON.stringify(this.baseData));
        this.accountBoosts = {
          twitter: { humanity: 15, airdrop: 20, technical: 10, communication: 25 },
          discord: { humanity: 10, airdrop: 15, technical: 5, communication: 20 },
          github: { humanity: 8, airdrop: 12, technical: 30, innovation: 25 },
          linkedin: { humanity: 12, airdrop: 18, communication: 20, leadership: 15 },
          worldcoin: { humanity: 25, airdrop: 30, technical: 5, communication: 5 }
        };
      }

      // 模擬連接帳號
      connectAccount(platform) {
        if (this.currentData.connectedAccounts[platform]) return;

        this.currentData.connectedAccounts[platform] = true;
        const boosts = this.accountBoosts[platform];

        // 更新分數
        if (boosts.humanity) {
          this.currentData.humanityIndex.current += boosts.humanity;
          this.currentData.humanityIndex.percentage = (this.currentData.humanityIndex.current / this.currentData.humanityIndex.total) * 100;
        }

        if (boosts.airdrop) {
          this.currentData.airdropScore.current += boosts.airdrop;
          this.currentData.airdropScore.percentage = (this.currentData.airdropScore.current / this.currentData.airdropScore.total) * 100;
        }

        if (boosts.technical) {
          this.currentData.matrixTraits.technicalSkills.current += boosts.technical;
          this.currentData.matrixTraits.technicalSkills.percentage = (this.currentData.matrixTraits.technicalSkills.current / this.currentData.matrixTraits.technicalSkills.total) * 100;
        }

        if (boosts.communication) {
          this.currentData.matrixTraits.communication.current += boosts.communication;
          this.currentData.matrixTraits.communication.percentage = (this.currentData.matrixTraits.communication.current / this.currentData.matrixTraits.communication.total) * 100;
        }

        if (boosts.leadership) {
          this.currentData.matrixTraits.leadership.current += boosts.leadership;
          this.currentData.matrixTraits.leadership.percentage = (this.currentData.matrixTraits.leadership.current / this.currentData.matrixTraits.leadership.total) * 100;
        }

        if (boosts.innovation) {
          this.currentData.matrixTraits.innovation.current += boosts.innovation;
          this.currentData.matrixTraits.innovation.percentage = (this.currentData.matrixTraits.innovation.current / this.currentData.matrixTraits.innovation.total) * 100;
        }

        // 更新排名 (模擬排名提升)
        this.currentData.humanityIndex.rank.current = Math.max(1, this.currentData.humanityIndex.rank.current - Math.floor(Math.random() * 5 + 1));
        this.currentData.airdropScore.rank.current = Math.max(1, this.currentData.airdropScore.rank.current - Math.floor(Math.random() * 3 + 1));

        return this.currentData;
      }

      // 模擬斷開帳號
      disconnectAccount(platform) {
        if (!this.currentData.connectedAccounts[platform]) return;

        this.currentData.connectedAccounts[platform] = false;
        const boosts = this.accountBoosts[platform];

        // 減少分數
        if (boosts.humanity) {
          this.currentData.humanityIndex.current = Math.max(0, this.currentData.humanityIndex.current - boosts.humanity);
          this.currentData.humanityIndex.percentage = (this.currentData.humanityIndex.current / this.currentData.humanityIndex.total) * 100;
        }

        if (boosts.airdrop) {
          this.currentData.airdropScore.current = Math.max(0, this.currentData.airdropScore.current - boosts.airdrop);
          this.currentData.airdropScore.percentage = (this.currentData.airdropScore.current / this.currentData.airdropScore.total) * 100;
        }

        // 更新排名 (模擬排名下降)
        this.currentData.humanityIndex.rank.current = Math.min(1781, this.currentData.humanityIndex.rank.current + Math.floor(Math.random() * 5 + 1));
        this.currentData.airdropScore.rank.current = Math.min(1781, this.currentData.airdropScore.rank.current + Math.floor(Math.random() * 3 + 1));

        return this.currentData;
      }

      // 重置到初始狀態
      reset() {
        this.currentData = JSON.parse(JSON.stringify(this.baseData));
        return this.currentData;
      }

      getCurrentData() {
        return this.currentData;
      }
    }

    // 分數更新管理器
    class ScoreUpdater {
      constructor() {
        this.mockData = new MockDataSystem();
      }

      // 更新所有分數顯示
      updateAllScores(data = null) {
        const scoreData = data || this.mockData.getCurrentData();

        this.updateHumanityIndex(scoreData.humanityIndex);
        this.updateAirdropScore(scoreData.airdropScore);
        this.updateMatrixTraits(scoreData.matrixTraits);

        this.showUpdateNotification();
      }

      // 更新 Humanity Index
      updateHumanityIndex(data) {
        this.animateScoreUpdate('humanity-score-main', data.current);
        this.animateScoreUpdate('humanity-score-total', ` / ${data.total}`);
        this.animateProgressBar('humanity-progress-fill', data.percentage);
        this.animateScoreUpdate('humanity-percentage', `${Math.round(data.percentage)}%`);
        this.animateScoreUpdate('humanity-rank-current', data.rank.current);
        this.animateScoreUpdate('humanity-rank-total', data.rank.total);
      }

      // 更新 Airdrop Score
      updateAirdropScore(data) {
        this.animateScoreUpdate('airdrop-score-main', data.current);
        this.animateScoreUpdate('airdrop-score-total', ` / ${data.total}`);
        this.animateProgressBar('airdrop-progress-fill', data.percentage);
        this.animateScoreUpdate('airdrop-percentage', `${Math.round(data.percentage)}%`);
        this.animateScoreUpdate('airdrop-rank-current', data.rank.current);
        this.animateScoreUpdate('airdrop-rank-total', data.rank.total);
      }

      // 更新 Matrix Traits
      updateMatrixTraits(data) {
        Object.keys(data).forEach(trait => {
          const traitData = data[trait];
          this.animateScoreUpdate(`${trait}-score`, `${traitData.current}/${traitData.total}`);
          this.animateProgressBar(`${trait}-progress`, traitData.percentage);
          this.animateScoreUpdate(`${trait}-rank-current`, traitData.rank.current);
          this.animateScoreUpdate(`${trait}-rank-total`, traitData.rank.total);
        });
      }

      // 動畫更新分數文字
      animateScoreUpdate(elementId, newValue) {
        const element = document.querySelector(`[data-id="${elementId}"]`);
        if (element) {
          element.classList.add('score-updating');
          setTimeout(() => {
            element.textContent = newValue;
            element.classList.remove('score-updating');
          }, 500);
        }
      }

      // 動畫更新進度條
      animateProgressBar(elementId, percentage) {
        const element = document.querySelector(`[data-id="${elementId}"]`);
        if (element) {
          element.style.transition = 'width 1.5s ease-in-out';
          element.style.width = `${percentage}%`;
        }
      }

      // 顯示更新通知
      showUpdateNotification() {
        const notification = document.createElement('div');
        notification.className = 'update-notification';
        notification.textContent = '🎉 Scores updated based on connected accounts!';
        document.body.appendChild(notification);

        setTimeout(() => notification.classList.add('show'), 100);
        setTimeout(() => {
          notification.classList.remove('show');
          setTimeout(() => notification.remove(), 300);
        }, 3000);
      }

      // 模擬連接帳號
      simulateAccountConnection(platform) {
        const updatedData = this.mockData.connectAccount(platform);
        this.updateAllScores(updatedData);
        return updatedData;
      }

      // 模擬斷開帳號
      simulateAccountDisconnection(platform) {
        const updatedData = this.mockData.disconnectAccount(platform);
        this.updateAllScores(updatedData);
        return updatedData;
      }

      // 重置所有分數
      resetScores() {
        const resetData = this.mockData.reset();
        this.updateAllScores(resetData);
        return resetData;
      }
    }

    // Profile 管理系統
    class ProfileManager {
      constructor() {
        this.currentProfile = {
          name: 'Alex',
          avatar: null // null = show initials, string = image URL
        };
        this.initializeProfile();
      }

      initializeProfile() {
        this.updateProfileDisplay();
        this.updateAvatarDisplay();
      }

      updateProfileDisplay() {
        const nameElement = document.getElementById('profile-name');
        if (nameElement) {
          nameElement.textContent = `Hi, ${this.currentProfile.name}!`;
        }
      }

      updateAvatarDisplay() {
        const initialsElement = document.getElementById('avatar-initials');
        const imageElement = document.getElementById('avatar-image');

        if (this.currentProfile.avatar) {
          // Show uploaded image
          imageElement.src = this.currentProfile.avatar;
          imageElement.classList.remove('hidden');
          initialsElement.classList.add('hidden');
        } else {
          // Show initials
          const initials = this.getInitials(this.currentProfile.name);
          initialsElement.textContent = initials;
          initialsElement.classList.remove('hidden');
          imageElement.classList.add('hidden');
        }
      }

      getInitials(name) {
        return name
          .split(' ')
          .map(word => word.charAt(0).toUpperCase())
          .join('')
          .substring(0, 2);
      }

      updateProfile(name, avatarFile = null) {
        this.currentProfile.name = name;

        if (avatarFile) {
          const reader = new FileReader();
          reader.onload = (e) => {
            this.currentProfile.avatar = e.target.result;
            this.updateAvatarDisplay();
          };
          reader.readAsDataURL(avatarFile);
        }

        this.updateProfileDisplay();
        this.updateAvatarDisplay();
      }

      removeAvatar() {
        this.currentProfile.avatar = null;
        this.updateAvatarDisplay();
      }
    }

    // Rank Badge 連結管理系統
    class RankBadgeManager {
      constructor() {
        this.badgeConfigs = {
          'humanity': {
            hasLink: true,
            linkUrl: '#humanity-rank-details',
            linkText: 'View Humanity Index Rankings'
          },
          'airdrop': {
            hasLink: false, // Airdrop Score 沒有連結頁面
            linkUrl: null,
            linkText: null
          }
        };

        this.initializeBadges();
      }

      initializeBadges() {
        // 設置 Humanity Index rank badge
        this.setupRankBadge('humanity', '.figma-score-title .figma-earned-badge.rank');

        // 設置 Airdrop Score rank badge
        this.setupRankBadge('airdrop', '.figma-airdrop-title .figma-earned-badge.rank');
      }

      setupRankBadge(type, selector) {
        const badge = document.querySelector(selector);
        if (!badge) return;

        const config = this.badgeConfigs[type];

        if (!config.hasLink) {
          // 沒有連結：添加 no-link 類，隱藏外部連結圖標
          badge.classList.add('no-link');
        } else {
          // 有連結：移除 no-link 類，設置連結
          badge.classList.remove('no-link');
          const linkElement = badge.querySelector('.figma-rank-external-link');
          if (linkElement && config.linkUrl) {
            linkElement.href = config.linkUrl;
            linkElement.title = config.linkText;
            linkElement.onclick = (e) => {
              e.preventDefault();
              this.handleRankLinkClick(type, config);
            };
          }
        }
      }

      handleRankLinkClick(type, config) {
        // 處理排名連結點擊
        if (config.linkUrl && config.linkUrl !== '#') {
          // 實際導航到排名頁面
          window.location.href = config.linkUrl;
        } else {
          // 顯示提示或模態框
          alert(`${config.linkText || 'Rank details page'} - Coming Soon!`);
        }
      }

      // 動態更新連結狀態
      updateBadgeLink(type, hasLink, linkUrl = null, linkText = null) {
        if (this.badgeConfigs[type]) {
          this.badgeConfigs[type].hasLink = hasLink;
          this.badgeConfigs[type].linkUrl = linkUrl;
          this.badgeConfigs[type].linkText = linkText;

          // 重新設置 badge
          const selectors = {
            'humanity': '.figma-score-title .figma-earned-badge.rank',
            'airdrop': '.figma-airdrop-title .figma-earned-badge.rank'
          };

          this.setupRankBadge(type, selectors[type]);
        }
      }
    }

    // Figma Tabs Component Class
    class FigmaTabsComponent {
      constructor(containerId, options = {}) {
        this.container = document.getElementById(containerId);
        this.options = {
          maxVisibleTabs: options.maxVisibleTabs || 5,
          defaultTabs: options.defaultTabs || ['General', 'Technical', 'Creative'],
          ...options
        };

        this.tabs = [...this.options.defaultTabs];
        this.activeTabIndex = 0;
        this.scrollPosition = 0;
        this.isOverflowMode = false;

        this.init();
      }

      init() {
        this.render();
        this.bindEvents();
        this.checkOverflow();
      }

      render() {
        this.container.innerHTML = `
          <div class="figma-tabs-container ${this.isOverflowMode ? 'overflow-mode' : ''}">
            <!-- Left Chevron - 145-3148 -->
            <button class="figma-chevron-left" id="chevron-left" style="opacity: ${this.isOverflowMode ? '0' : '0'}; visibility: ${this.isOverflowMode ? 'hidden' : 'hidden'};">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>

            <!-- Tabs Bar -->
            <div class="figma-tabs-bar ${this.isOverflowMode ? 'fill-container' : 'hug-container'}" id="tabs-bar">
              ${this.tabs.map((tab, index) => `
                <div class="figma-tab-${index === this.activeTabIndex ? 'active' : 'default'}" data-index="${index}">
                  ${tab}
                </div>
              `).join('')}
            </div>

            <!-- Right Chevron - 145-3148 -->
            <button class="figma-chevron-right" id="chevron-right" style="opacity: ${this.isOverflowMode ? '0' : '0'}; visibility: ${this.isOverflowMode ? 'hidden' : 'hidden'};">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>

            <!-- Plus Button -->
            <button class="figma-tabs-plus-btn" id="tabs-plus-btn">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>
        `;
      }

      bindEvents() {
        // Tab click events
        this.container.addEventListener('click', (e) => {
          if (e.target.dataset.index !== undefined) {
            const index = parseInt(e.target.dataset.index);
            this.setActiveTab(index);
          }
        });

        // Tab hover events - 151-3635 (Hover State)
        this.container.addEventListener('mouseover', (e) => {
          if (e.target.dataset.index !== undefined && !e.target.classList.contains('figma-tab-active')) {
            e.target.className = 'figma-tab-hover';
          }
        });

        this.container.addEventListener('mouseout', (e) => {
          if (e.target.dataset.index !== undefined && !e.target.classList.contains('figma-tab-active')) {
            e.target.className = 'figma-tab-default';
          }
        });

        // Plus button
        const plusBtn = this.container.querySelector('#tabs-plus-btn');
        plusBtn?.addEventListener('click', () => this.addTab());

        // Chevron buttons
        const leftChevron = this.container.querySelector('#chevron-left');
        const rightChevron = this.container.querySelector('#chevron-right');

        leftChevron?.addEventListener('click', () => this.scrollTabs('left'));
        rightChevron?.addEventListener('click', () => this.scrollTabs('right'));

        // Container hover for chevrons
        this.container.addEventListener('mouseenter', () => {
          if (this.isOverflowMode) {
            leftChevron.style.opacity = '1';
            leftChevron.style.visibility = 'visible';
            rightChevron.style.opacity = '1';
            rightChevron.style.visibility = 'visible';
          }
        });

        this.container.addEventListener('mouseleave', () => {
          if (this.isOverflowMode) {
            leftChevron.style.opacity = '0';
            leftChevron.style.visibility = 'hidden';
            rightChevron.style.opacity = '0';
            rightChevron.style.visibility = 'hidden';
          }
        });

        // Window resize
        window.addEventListener('resize', () => this.checkOverflow());
      }

      setActiveTab(index) {
        if (index >= 0 && index < this.tabs.length) {
          this.activeTabIndex = index;
          this.updateTabsDisplay();
          this.onTabChange?.(index, this.tabs[index]);
        }
      }

      addTab() {
        const newTabName = prompt('Enter tab name:') || `Tab ${this.tabs.length + 1}`;
        this.tabs.push(newTabName);
        this.render();
        this.bindEvents();
        this.checkOverflow();
        this.setActiveTab(this.tabs.length - 1);
      }

      checkOverflow() {
        const wasOverflowMode = this.isOverflowMode;
        this.isOverflowMode = this.tabs.length > this.options.maxVisibleTabs;

        if (wasOverflowMode !== this.isOverflowMode) {
          this.render();
          this.bindEvents();
        }

        this.updateChevronStates();
      }

      updateTabsDisplay() {
        const tabElements = this.container.querySelectorAll('[data-index]');
        tabElements.forEach((tab, index) => {
          if (index === this.activeTabIndex) {
            tab.className = 'figma-tab-active'; // 151-3559 (Active State)
          } else {
            tab.className = 'figma-tab-default'; // 135-3584 (Default State)
          }
        });
      }

      scrollTabs(direction) {
        if (!this.isOverflowMode) return;

        const tabsBar = this.container.querySelector('#tabs-bar');
        const tabWidth = 120; // Approximate tab width including gap

        if (direction === 'left') {
          this.scrollPosition = Math.max(0, this.scrollPosition - tabWidth);
        } else {
          const maxScroll = (this.tabs.length - this.options.maxVisibleTabs) * tabWidth;
          this.scrollPosition = Math.min(maxScroll, this.scrollPosition + tabWidth);
        }

        tabsBar.style.transform = `translateX(-${this.scrollPosition}px)`;
        this.updateChevronStates();
      }

      updateChevronStates() {
        if (!this.isOverflowMode) return;

        const leftChevron = this.container.querySelector('#chevron-left');
        const rightChevron = this.container.querySelector('#chevron-right');
        const maxScroll = (this.tabs.length - this.options.maxVisibleTabs) * 120;

        leftChevron?.classList.toggle('disabled', this.scrollPosition <= 0);
        rightChevron?.classList.toggle('disabled', this.scrollPosition >= maxScroll);
      }

      // Public API
      addTabProgrammatically(name) {
        this.tabs.push(name);
        this.render();
        this.bindEvents();
        this.checkOverflow();
        return this.tabs.length - 1;
      }

      removeTab(index) {
        if (this.tabs.length <= 1) return; // Keep at least one tab

        this.tabs.splice(index, 1);
        if (this.activeTabIndex >= this.tabs.length) {
          this.activeTabIndex = this.tabs.length - 1;
        }
        this.render();
        this.bindEvents();
        this.checkOverflow();
      }

      getActiveTab() {
        return {
          index: this.activeTabIndex,
          name: this.tabs[this.activeTabIndex]
        };
      }

      // Event callback
      onTabChange = null;
    }

    // 全局變量
    let scoreUpdater;
    let profileManager;
    let rankBadgeManager;
    let tabsComponent;

    // 頁面載入完成後初始化
    document.addEventListener('DOMContentLoaded', function() {
      scoreUpdater = new ScoreUpdater();
      profileManager = new ProfileManager();
      rankBadgeManager = new RankBadgeManager();



      // Initialize Figma Upload Component
      window.uploadComponent = new FigmaUploadComponent();

      // 模擬定期更新 (可選)
      // setInterval(() => {
      //   scoreUpdater.simulateRandomUpdate();
      // }, 30000); // 每30秒隨機更新
    });

    // Profile Edit Modal 功能
    function openProfileEditModal() {
      const modal = document.getElementById('profile-edit-modal');
      const nameInput = document.getElementById('profile-name-input');
      const avatarPreview = document.getElementById('modal-avatar-preview');
      const avatarInitials = document.getElementById('modal-avatar-initials');
      const avatarImage = document.getElementById('modal-avatar-image');

      // 設置當前值
      nameInput.value = profileManager.currentProfile.name;

      // 更新預覽
      if (profileManager.currentProfile.avatar) {
        avatarImage.src = profileManager.currentProfile.avatar;
        avatarImage.classList.remove('hidden');
        avatarInitials.classList.add('hidden');
      } else {
        const initials = profileManager.getInitials(profileManager.currentProfile.name);
        avatarInitials.textContent = initials;
        avatarInitials.classList.remove('hidden');
        avatarImage.classList.add('hidden');
      }

      modal.classList.add('show');
    }

    function closeProfileEditModal() {
      const modal = document.getElementById('profile-edit-modal');
      modal.classList.remove('show');
    }

    function saveProfile() {
      const nameInput = document.getElementById('profile-name-input');
      const fileInput = document.getElementById('avatar-file-input');

      const newName = nameInput.value.trim();
      if (!newName) {
        alert('Please enter a name');
        return;
      }

      // 優先使用上傳組件的文件，如果沒有則使用文件輸入的文件
      let avatarFile = null;
      if (window.uploadComponent && window.uploadComponent.currentFile) {
        avatarFile = window.uploadComponent.currentFile;
      } else if (fileInput.files[0]) {
        avatarFile = fileInput.files[0];
      }

      // 如果有上傳的圖片，使用圖片；否則檢查是否有現有的頭像圖片
      if (avatarFile) {
        profileManager.updateProfile(newName, avatarFile);
      } else {
        // 檢查模態框中是否有顯示的圖片
        const modalAvatarImage = document.getElementById('modal-avatar-image');
        if (modalAvatarImage && !modalAvatarImage.classList.contains('hidden') && modalAvatarImage.src) {
          // 保持現有圖片
          profileManager.currentProfile.name = newName;
          profileManager.updateProfileDisplay();
        } else {
          // 沒有圖片，只更新名稱
          profileManager.updateProfile(newName, null);
        }
      }

      closeProfileEditModal();

      // 清除文件輸入和上傳組件
      fileInput.value = '';
      if (window.uploadComponent) {
        window.uploadComponent.reset();
      }
    }

    // Simplified Upload Component - Figma Exact
    class FigmaUploadComponent {
      constructor() {
        this.uploadArea = document.getElementById('upload-area');
        this.fileInput = document.getElementById('avatar-file-input');
        this.uploadText = document.getElementById('upload-text');
        this.uploadTextSecondary = document.getElementById('upload-text-secondary');
        this.uploadSubtext = document.getElementById('upload-subtext');
        this.progressBar = document.getElementById('upload-progress-bar');
        this.contentContainer = document.getElementById('upload-content-container');
        this.successIndicator = document.getElementById('upload-success-indicator');
        this.removeBtn = document.getElementById('upload-remove-btn');

        this.currentFile = null;
        this.uploadState = 'default'; // default, uploading, success, error
        this.isProcessing = false;

        this.initializeEventListeners();
      }

      initializeEventListeners() {
        if (!this.uploadArea || !this.fileInput) {
          console.error('Upload components not found');
          return;
        }

        // Prevent default drag behaviors
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
          this.uploadArea.addEventListener(eventName, (e) => {
            e.preventDefault();
            e.stopPropagation();
          });
        });

        // Drag and Drop Events
        this.uploadArea.addEventListener('dragover', (e) => this.handleDragOver(e));
        this.uploadArea.addEventListener('dragleave', (e) => this.handleDragLeave(e));
        this.uploadArea.addEventListener('drop', (e) => this.handleDrop(e));

        // File Input Change
        this.fileInput.addEventListener('change', (e) => {
          if (!this.isProcessing) {
            this.handleFileSelect(e);
          }
        });

        // Click to Upload
        this.uploadArea.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          this.triggerFileSelect();
        });

        // Remove button
        if (this.removeBtn) {
          this.removeBtn.addEventListener('click', (e) => {
            e.preventDefault();
            e.stopPropagation();
            this.reset();
          });
        }
      }

      triggerFileSelect() {
        if (this.uploadState !== 'uploading' && !this.isProcessing) {
          this.fileInput.click();
        }
      }

      handleDragOver(e) {
        e.preventDefault();
        if (this.uploadState === 'default' || this.uploadState === 'error') {
          this.setState('drag-over');
        }
      }

      handleDragLeave(e) {
        e.preventDefault();
        if (this.uploadState === 'drag-over') {
          this.setState('default');
        }
      }

      handleDrop(e) {
        e.preventDefault();
        const files = e.dataTransfer.files;
        if (files.length > 0) {
          this.processFile(files[0]);
        }
      }

      handleFileSelect(e) {
        const file = e.target.files[0];
        if (file && !this.isProcessing) {
          this.processFile(file);
        }
        // 清空 input 以允許重複選擇同一文件
        setTimeout(() => {
          e.target.value = '';
        }, 100);
      }

      processFile(file) {
        if (this.isProcessing) return;

        this.isProcessing = true;

        // Validate file
        if (!this.validateFile(file)) {
          this.isProcessing = false;
          return;
        }

        this.currentFile = file;
        this.setState('uploading');
        this.simulateUpload(file);
      }

      validateFile(file) {
        const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/svg+xml'];
        const maxSize = 5 * 1024 * 1024; // 5MB

        if (!validTypes.includes(file.type)) {
          this.setState('error');
          this.updateText('Invalid file type', 'Please select JPG, PNG, GIF or SVG', 'Supported formats only');
          return false;
        }

        if (file.size > maxSize) {
          this.setState('error');
          this.updateText('File too large', 'Maximum size is 5MB', 'Please choose a smaller file');
          return false;
        }

        return true;
      }

      simulateUpload(file) {
        let progress = 0;
        const interval = setInterval(() => {
          progress += Math.random() * 15;
          if (progress >= 100) {
            progress = 100;
            clearInterval(interval);
            this.onUploadComplete(file);
          }
          this.updateProgress(progress);
        }, 100);
      }

      onUploadComplete(file) {
        setTimeout(() => {
          this.setState('success');
          this.updateText('Upload successful!', '', '');

          // 保存文件引用供 saveProfile 使用
          this.currentFile = file;

          // Update modal avatar preview
          const reader = new FileReader();
          reader.onload = (e) => {
            const avatarImage = document.getElementById('modal-avatar-image');
            const avatarInitials = document.getElementById('modal-avatar-initials');
            if (avatarImage && avatarInitials) {
              avatarImage.src = e.target.result;
              avatarImage.classList.remove('hidden');
              avatarInitials.classList.add('hidden');
            }
          };
          reader.readAsDataURL(file);

          this.isProcessing = false;
        }, 300);
      }
    }

    function triggerAvatarUpload() {
      // 防止重複觸發
      if (window.uploadComponent && !window.uploadComponent.isProcessing) {
        window.uploadComponent.triggerFileSelect();
      }
    }

    function handleAvatarFileChange(event) {
      // This is now handled by the AdvancedUploadComponent
      // 防止舊邏輯干擾
      return;
    }

    // Simplified state management for Figma component
    FigmaUploadComponent.prototype.setState = function(state) {
      // Remove all state classes
      this.uploadArea.classList.remove('default', 'uploading', 'success', 'error');

      // Add new state class
      this.uploadArea.classList.add(state);
      this.uploadState = state;
    };

    FigmaUploadComponent.prototype.updateText = function(primary, secondary, subtext) {
      if (this.uploadText) this.uploadText.textContent = primary || 'Click to upload';
      if (this.uploadTextSecondary) this.uploadTextSecondary.textContent = secondary || 'or drag and drop';
      if (this.uploadSubtext) this.uploadSubtext.textContent = subtext || 'SVG, PNG, JPG or GIF (max. 800x400px)';
    };

    FigmaUploadComponent.prototype.updateProgress = function(percentage) {
      if (this.progressBar) {
        this.progressBar.style.width = `${percentage}%`;
      }

      if (this.uploadText) {
        this.uploadText.textContent = `Uploading... ${Math.round(percentage)}%`;
      }
    };

    FigmaUploadComponent.prototype.reset = function() {
      this.currentFile = null;
      this.isProcessing = false;
      this.setState('default');
      this.updateText('', '', ''); // Will use defaults
      if (this.progressBar) this.progressBar.style.width = '0%';
      if (this.fileInput) this.fileInput.value = '';

      // Reset modal avatar preview
      const avatarImage = document.getElementById('modal-avatar-image');
      const avatarInitials = document.getElementById('modal-avatar-initials');
      if (avatarImage && avatarInitials) {
        avatarImage.classList.add('hidden');
        avatarInitials.classList.remove('hidden');

        // 重新設置 initials 為當前用戶名的首字母
        if (window.profileManager) {
          const initials = window.profileManager.getInitials(window.profileManager.currentProfile.name);
          avatarInitials.textContent = initials;
        }
      }
    };

    // Global function for remove button
    function removeUploadedFile(event) {
      event.preventDefault();
      event.stopPropagation();
      if (window.uploadComponent) {
        window.uploadComponent.reset();
      }
    }

    function removeModalAvatar() {
      const avatarImage = document.getElementById('modal-avatar-image');
      const avatarInitials = document.getElementById('modal-avatar-initials');
      const nameInput = document.getElementById('profile-name-input');
      const fileInput = document.getElementById('avatar-file-input');

      // 清除文件輸入
      fileInput.value = '';

      // 顯示字首字
      const initials = profileManager.getInitials(nameInput.value || 'User');
      avatarInitials.textContent = initials;
      avatarInitials.classList.remove('hidden');
      avatarImage.classList.add('hidden');
    }

    function updateModalAvatarInitials() {
      const nameInput = document.getElementById('profile-name-input');
      const avatarInitials = document.getElementById('modal-avatar-initials');
      const avatarImage = document.getElementById('modal-avatar-image');

      // 只有在沒有上傳圖片時才更新字首字
      if (avatarImage.classList.contains('hidden')) {
        const initials = profileManager.getInitials(nameInput.value || 'User');
        avatarInitials.textContent = initials;
      }
    }

    // 模擬連接帳號 (供 account connections 區域使用)
    function simulateConnect(platform) {
      const isConnected = scoreUpdater.mockData.currentData.connectedAccounts[platform];

      if (isConnected) {
        scoreUpdater.simulateAccountDisconnection(platform);
      } else {
        scoreUpdater.simulateAccountConnection(platform);
      }

      return !isConnected; // 返回新的連接狀態
    }

    // 重置演示 (供需要時使用)
    function resetDemo() {
      scoreUpdater.resetScores();
    }

    // 獲取帳號連接狀態
    function getAccountStatus(platform) {
      return scoreUpdater.mockData.currentData.connectedAccounts[platform];
    }
  </script>
</head>
<body>
  <!-- Profile Edit Modal - Figma Exact -->
  <div id="profile-edit-modal" class="profile-edit-modal">
    <div class="profile-edit-modal-content">
      <!-- Username Input -->
      <div class="profile-edit-form-group">
        <label for="profile-name-input">Username</label>
        <input
          type="text"
          id="profile-name-input"
          placeholder="Alex"
          oninput="updateModalAvatarInitials()"
        />
      </div>

      <!-- 精確 Figma Content 框架 (117:5223) - 343×272px, VERTICAL, itemSpacing: 20 -->
      <div class="profile-edit-content-frame">

        <!-- 精確 "Text and supporting text" 框架 (117:5224) - 343×40px -->
        <div class="profile-edit-text-frame">
          <h3 class="profile-edit-photo-title">Your photo</h3>
          <p class="profile-edit-photo-description">This will be displayed on your profile.</p>
        </div>

        <!-- 精確 "Avatar and file upload" 框架 (117:5227) - 343×212px, VERTICAL, itemSpacing: 20 -->
        <div class="profile-edit-avatar-upload-frame">

          <!-- Avatar 區域 (117:5228) - 64×64px -->
          <div class="profile-edit-avatar-preview" id="modal-avatar-preview">
            <span id="modal-avatar-initials">A</span>
            <img id="modal-avatar-image" src="" alt="Avatar" class="hidden" />
          </div>

        <!-- Figma Exact Upload Area - VStack(spacing: 4) -->
        <div class="profile-edit-upload-area default" id="upload-area">
          <!-- VStack(spacing: 12) Container -->
          <div class="upload-content-container" id="upload-content-container">

            <!-- ZStack - Upload Icon (40×40) -->
            <div class="upload-icon" id="upload-icon">
              <!-- Inner ZStack (20×20) -->
              <div class="upload-icon-inner">
                <!-- Upload Arrow Icon -->
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 15.5L7.5 11L9 9.5L11 11.5V4H13V11.5L15 9.5L16.5 11L12 15.5ZM6 20C5.45 20 4.979 19.804 4.587 19.412C4.195 19.02 3.99934 18.5493 4 18V15H6V18H18V15H20V18C20 18.55 19.804 19.021 19.412 19.413C19.02 19.805 18.5493 20.0007 18 20H6Z" fill="#666"/>
                </svg>
              </div>
            </div>

            <!-- VStack(spacing: 4) - Text Container -->
            <div class="upload-text-container">
              <!-- HStack(alignment: .top, spacing: 4) - First Line -->
              <div class="upload-text-line-1">
                <span class="profile-edit-upload-text" id="upload-text">Click to upload</span>
                <span class="profile-edit-upload-text-secondary" id="upload-text-secondary">or drag and drop</span>
              </div>

              <!-- Second Line -->
              <div class="profile-edit-upload-subtext" id="upload-subtext">SVG, PNG, JPG or GIF (max. 800x400px)</div>
            </div>

          </div>

          <!-- Progress Bar -->
          <div class="upload-progress">
            <div class="upload-progress-bar" id="upload-progress-bar"></div>
          </div>

          <!-- Success Indicator -->
          <div class="upload-success-indicator" id="upload-success-indicator">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="rgba(34, 197, 94, 1)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>

          <!-- Simple Remove Button -->
          <button class="upload-remove-btn" id="upload-remove-btn" type="button">
            <svg width="10" height="10" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>

        </div> <!-- 關閉 profile-edit-avatar-upload-frame -->

      </div> <!-- 關閉 profile-edit-content-frame -->

      <!-- Hidden File Input -->
      <input
        type="file"
        id="avatar-file-input"
        accept="image/*"
        onchange="handleAvatarFileChange(event)"
      />

      <!-- Buttons -->
      <div class="profile-edit-buttons">
        <button type="button" class="profile-edit-btn profile-edit-btn-cancel" onclick="closeProfileEditModal()">
          Cancel
        </button>
        <button type="button" class="profile-edit-btn profile-edit-btn-confirm" onclick="saveProfile()">
          Confirm
        </button>
      </div>
    </div>
  </div>
  <!-- Global Navigation Bar - 全域導航 -->
  <nav id="global-nav" class="nav-bar">
    <a href="https://twin3.ai" class="nav-logo">
      <div class="flex items-center">
        <img src="../assets/img/logo_dark.svg" alt="Logo" class="w-10 h-10 md:w-10 md:h-10">
      </div>
    </a>

    <!-- Mobile menu button -->
    <button class="mobile-menu-btn" id="mobile-menu-btn">
      <span class="material-icons">menu</span>
    </button>

    <!-- Desktop navigation -->
    <div class="nav-actions">
      <a href="https://ieeexplore.ieee.org/document/10734204" target="_blank" rel="noreferrer noopener" class="nav-link">WHITEPAPER</a>
      <a class="nav-link" href="https://twin3.ai/dashboard">MY TWIN</a>
      <span class="nav-link nav-link-focused" aria-current="page">PASSPORT</span>

      <!-- Wallet button -->
      <div class="wallet-button">
        <div class="wallet-balance">0 BNB</div>
        <div class="wallet-address">
          <div class="wallet-avatar">👽</div>
          <div class="wallet-address-text">0x19…5ACe</div>
          <svg class="dropdown-icon" fill="none" height="7" width="14" xmlns="http://www.w3.org/2000/svg">
            <title>Dropdown</title>
            <path d="M12.75 1.54001L8.51647 5.0038C7.77974 5.60658 6.72026 5.60658 5.98352 5.0038L1.75 1.54001" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"></path>
          </svg>
        </div>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobile-menu">
      <button class="mobile-menu-close" id="mobile-menu-close">
        <span class="material-icons">close</span>
      </button>
      <div class="mobile-menu-links">
        <a href="https://ieeexplore.ieee.org/document/10734204" target="_blank" rel="noreferrer noopener" class="mobile-menu-link">WHITEPAPER</a>
        <a href="https://twin3.ai/dashboard" class="mobile-menu-link">MY TWIN</a>
        <span class="mobile-menu-link mobile-menu-link-focused" aria-current="page">PASSPORT</span>
      </div>
    </div>
  </nav>

  <!-- Main Dashboard Container -->
  <div class="min-h-screen bg-primary-bg">
    <!-- Dashboard Content -->
    <div class="dashboard-container max-w-[1000px] mx-auto pt-24 pb-12 px-8">
      
      <!-- Section 1: Profile Frame -->
      <section class="mb-6">
        <div class="h-16 flex items-center justify-between">
          <!-- Left: Profile Info -->
          <div class="flex items-center gap-6">
            <!-- Avatar with Edit Button -->
            <div class="relative w-16 h-16 flex-shrink-0">
              <!-- Avatar Container -->
              <div class="w-16 h-16 rounded-full overflow-hidden bg-gray-600 flex items-center justify-center" id="avatar-container">
                <!-- Default: Show initials -->
                <span class="text-white text-xl font-kanit font-light" id="avatar-initials">JD</span>
                <!-- Hidden: User uploaded image -->
                <img
                  id="avatar-image"
                  src=""
                  alt="Avatar"
                  class="w-16 h-16 object-cover hidden"
                />
              </div>

              <!-- Edit Button -->
              <button
                class="avatar-edit-btn"
                onclick="openProfileEditModal()"
                id="avatar-edit-btn"
              >
                <!-- Material Design Edit Icon -->
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M3 17.25V21H6.75L17.81 9.94L14.06 6.19L3 17.25ZM20.71 7.04C21.1 6.65 21.1 6.02 20.71 5.63L18.37 3.29C17.98 2.9 17.35 2.9 16.96 3.29L15.13 5.12L18.88 8.87L20.71 7.04Z" fill="white"/>
                </svg>
              </button>
            </div>
            
            <!-- User Name -->
            <h1 class="font-kanit text-[36px] leading-[50.4px] text-white" style="font-weight: 300;" id="profile-name">
              Hi, Alex!
            </h1>
          </div>

          <!-- Right: Rewards - Figma API Exact -->
          <div class="figma-rewards-container">
            <!-- $twin3 Label -->
            <div class="figma-rewards-label">$twin3</div>

            <!-- Separator Line -->
            <div class="figma-rewards-separator"></div>

            <!-- Reward Amount Area -->
            <div class="figma-rewards-amount">
              <!-- $ Symbol -->
              <span class="figma-rewards-currency">$</span>
              <!-- Amount Number -->
              <span class="figma-rewards-value">0.274</span>
              <!-- Growth Indicator -->
              <span class="figma-rewards-growth">+0.01</span>
            </div>

            <!-- Withdraw Button -->
            <button class="figma-btn figma-btn-white figma-btn-small">
              Withdraw
            </button>
          </div>
        </div>
      </section>

      <!-- Section 2: Twin Matrix Score -->
      <section class="section-grid grid grid-cols-2 gap-6 mb-6">
        <!-- Humanity Index Card - Figma API Exact -->
        <div class="figma-identity-score-card">
          <!-- Title Section -->
          <div class="figma-score-title">
            <span class="figma-score-title-text">Humanity Index</span>
            <div class="figma-help-icon-container" data-tooltip="The Humanity Index (0-255) measures how likely you are a real person based on verification tasks. Complete more biometric verifications in your dashboard to achieve a higher score - the more verifications you complete, the higher your score. (Details)">
              <img src="../assets/img/icons/help-circle.svg" alt="Help" class="figma-help-icon">
            </div>
            <!-- Rank Badge -->
            <div class="figma-earned-badge rank">
              <div class="figma-earned-badge-icon">
                <img src="../assets/img/icons/star.svg" alt="Rank" />
              </div>
              <span class="figma-earned-badge-text">Rank: <span data-id="humanity-rank-current">12</span> / <span data-id="humanity-rank-total">1,781</span></span>
              <a href="#" class="figma-rank-external-link" onclick="alert('Navigate to rank details page'); return false;">
                <img src="../assets/img/icons/external-link.svg" alt="External Link" />
              </a>
            </div>
          </div>

          <!-- Score Section -->
          <div class="figma-score-section">
            <span class="figma-score-main" data-id="humanity-score-main">204</span>
            <span class="figma-score-total" data-id="humanity-score-total"> / 255</span>
          </div>

          <!-- Progress Bar Section -->
          <div class="figma-progress-container">
            <div class="figma-progress-bar">
              <div class="figma-progress-background"></div>
              <div class="figma-progress-fill" data-id="humanity-progress-fill" style="width: 70.5%"></div>
            </div>
            <span class="figma-progress-percentage" data-id="humanity-percentage">70%</span>
          </div>

          <!-- Action Button -->
          <button class="figma-btn figma-btn-stroke figma-btn-small">
            Improve Score with Human Checks (1/2)
          </button>
        </div>

        <!-- twin3 Airdrop Score Card - Figma API Exact -->
        <div class="figma-identity-score-card">
          <!-- Title Section - Figma API Exact -->
          <div class="figma-airdrop-title">
            <span class="figma-airdrop-title-text">twin3 Airdrop Score</span>
            <div class="figma-help-icon-container" data-tooltip="Your Airdrop Score shows how active you are in social contribution tasks. It's based on factors like humanity, blockchain activity, asset engagement, and community involvement. Higher scores help you earn more $twin3 tokens.">
              <img src="../assets/img/icons/help-circle.svg" alt="Help" class="figma-help-icon">
            </div>
            <!-- Rank Badge - Same line as Title (No Link) -->
            <div class="figma-earned-badge rank no-link">
              <div class="figma-earned-badge-icon">
                <img src="../assets/img/icons/star.svg" alt="Rank" />
              </div>
              <span class="figma-earned-badge-text">Rank: <span data-id="airdrop-rank-current">12</span> / <span data-id="airdrop-rank-total">1,781</span></span>
              <a href="#" class="figma-rank-external-link" onclick="alert('Navigate to airdrop rank details page'); return false;">
                <img src="../assets/img/icons/external-link.svg" alt="External Link" />
              </a>
            </div>
          </div>

          <!-- Score Section -->
          <div class="figma-score-section">
            <span class="figma-score-main" data-id="airdrop-score-main">187</span>
            <span class="figma-score-total" data-id="airdrop-score-total"> / 265</span>
          </div>

          <!-- Progress Bar Section - Purple Color from Figma API -->
          <div class="figma-progress-container">
            <div class="figma-progress-bar">
              <div class="figma-airdrop-progress-background"></div>
              <div class="figma-airdrop-progress-fill" data-id="airdrop-progress-fill" style="width: 80%"></div>
            </div>
            <span class="figma-progress-percentage" data-id="airdrop-percentage">80%</span>
          </div>

          <!-- Index Score Section - Figma API Exact -->
          <div class="figma-index-score">
            <span class="figma-index-score-item">Hi: 00</span>
            <span class="figma-index-score-item">Bi: 00</span>
            <span class="figma-index-score-item">Di: 00</span>
            <span class="figma-index-score-item">Si: 00</span>
            <span class="figma-index-score-item">H: 00</span>
            <span class="figma-index-score-item">H: 00</span>
            <span class="figma-index-score-item">H: 00</span>
          </div>
        </div>
      </section>

      <!-- Section 3: Account Connected -->
      <section class="mb-6">
        <!-- Account Connection Header - Figma Two-Part Structure -->

        <!-- Part 1: Title + Button (115-14684) -->
        <div class="flex items-center justify-between mb-2">
          <div class="flex items-baseline gap-2">
            <h2 class="font-kanit text-[24px] text-white" style="font-weight: 300; line-height: 1.2;">Account Connected</h2>
            <span class="font-kanit text-[24px] text-text-secondary" style="font-weight: 200; line-height: 1.2;">(3/13)</span>
          </div>

          <!-- Refresh Button -->
          <button class="figma-btn figma-btn-stroke figma-btn-small">
            <span>Refresh All Accounts</span>
          </button>
        </div>

        <!-- Part 2: Description Text (8px padding from Part 1) - Fill Container -->
        <div class="mb-6 w-full">
          <p class="font-kanit text-[14px] text-text-secondary leading-relaxed w-full" style="font-weight: 200; line-height: 1.5;">
            Connect accounts that match your expertise and interests. Required Accounts adapt to your profession tabs, helping you find relevant connections. Boost your Airdrop Score and unlock Matrix Traits insights to understand your account's value across different specializations.
          </p>
        </div>




      </section>

      <!-- Section 4: Social Contribution -->
      <section class="mb-6">
        <!-- Header -->
        <div class="text-center mb-6">
          <div class="flex items-center justify-center gap-2 mb-2">
            <h2 class="font-kanit text-[24px] text-white" style="font-weight: 300;">twin3 Social Contribution</h2>
            <span class="font-kanit text-[24px] text-text-secondary" style="font-weight: 200;">(1/6)</span>
          </div>
          <p class="font-kanit text-[14px] text-text-secondary max-w-[600px] mx-auto leading-relaxed" style="font-weight: 200;">
            Contribute to the twin3 ecosystem by participating in social activities, sharing content, and engaging with the community to earn rewards and build your reputation.
          </p>
        </div>

        <!-- Task List Cells -->
        <div class="space-y-4">
          <!-- Task 1: Share on X -->
          <div class="figma-task-list-cell">
            <div class="figma-task-logo">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
              </svg>
            </div>
            <div class="figma-task-content">
              <p class="figma-task-description">Share twin3.ai on X (Twitter) and tag @twin3_ai to spread awareness about our AI identity platform</p>
              <div class="figma-task-badges">
                <div class="figma-earned-badge coin">
                  <div class="figma-earned-badge-icon">
                    <img src="../assets/img/icons/dollar-sign.svg" alt="Coin" />
                  </div>
                  <span class="figma-earned-badge-text">+0.01</span>
                </div>
                <div class="figma-earned-badge participants">
                  <div class="figma-earned-badge-icon">
                    <img src="../assets/img/icons/users.svg" alt="Participants" />
                  </div>
                  <span class="figma-earned-badge-text">847/1,000</span>
                </div>
                <div class="figma-earned-badge date">
                  <div class="figma-earned-badge-icon">
                    <img src="../assets/img/icons/calendar.svg" alt="Date" />
                  </div>
                  <span class="figma-earned-badge-text">12-31-2025</span>
                </div>
              </div>
            </div>
            <div class="figma-task-action">
              <button class="figma-btn figma-btn-stroke figma-btn-small">Start</button>
            </div>
          </div>

          <!-- Task 2: Join Discord (Completed) -->
          <div class="figma-task-list-cell completed">
            <div class="figma-task-logo">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/>
              </svg>
            </div>
            <div class="figma-task-content">
              <p class="figma-task-description">Join the official twin3 Discord server and introduce yourself in the #introductions channel</p>
              <div class="figma-task-badges">
                <div class="figma-earned-badge coin">
                  <div class="figma-earned-badge-icon">
                    <img src="../assets/img/icons/dollar-sign.svg" alt="Coin" />
                  </div>
                  <span class="figma-earned-badge-text">+0.005</span>
                </div>
                <div class="figma-earned-badge rank">
                  <div class="figma-earned-badge-icon">
                    <img src="../assets/img/icons/star.svg" alt="Rank" />
                  </div>
                  <span class="figma-earned-badge-text">#204</span>
                  <a href="#" class="figma-rank-external-link" onclick="alert('Navigate to rank details page'); return false;">
                    <img src="../assets/img/icons/external-link.svg" alt="External Link" />
                  </a>
                </div>
              </div>
            </div>
            <div class="figma-task-action">
              <button class="figma-btn figma-btn-stroke figma-btn-small" disabled>Completed</button>
            </div>
          </div>

          <!-- Task 3: Write Blog Post -->
          <div class="figma-task-list-cell">
            <div class="figma-task-logo">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                <polyline points="14,2 14,8 20,8"/>
                <line x1="16" y1="13" x2="8" y2="13"/>
                <line x1="16" y1="17" x2="8" y2="17"/>
                <polyline points="10,9 9,9 8,9"/>
              </svg>
            </div>
            <div class="figma-task-content">
              <p class="figma-task-description">Write a blog post about AI identity and digital twins, mentioning twin3.ai platform and its benefits</p>
              <div class="figma-task-badges">
                <div class="figma-earned-badge coin">
                  <div class="figma-earned-badge-icon">
                    <img src="../assets/img/icons/dollar-sign.svg" alt="Coin" />
                  </div>
                  <span class="figma-earned-badge-text">+0.05</span>
                </div>
                <div class="figma-earned-badge participants">
                  <div class="figma-earned-badge-icon">
                    <img src="../assets/img/icons/users.svg" alt="Participants" />
                  </div>
                  <span class="figma-earned-badge-text">23/100</span>
                </div>
                <div class="figma-earned-badge date overdued">
                  <div class="figma-earned-badge-icon">
                    <img src="../assets/img/icons/calendar.svg" alt="Date" />
                  </div>
                  <span class="figma-earned-badge-text">08-15-2025</span>
                </div>
              </div>
            </div>
            <div class="figma-task-action">
              <button class="figma-btn figma-btn-stroke figma-btn-small">Start</button>
            </div>
          </div>
        </div>








      </section>

      <!-- Modal Components -->
      <!-- Success Modal (Centered) -->
      <div id="success-modal" class="figma-modal-overlay" onclick="hideModal('success-modal')">
        <div class="figma-modal" onclick="event.stopPropagation()">
          <div class="figma-modal-content">
            <div class="figma-modal-icon">
              <svg viewBox="0 0 24 24">
                <path d="M9 12l2 2 4-4"/>
                <circle cx="12" cy="12" r="10"/>
              </svg>
            </div>
            <h3 class="figma-modal-title">Blog post published</h3>
            <p class="figma-modal-description">This blog post has been published. Team members will be able to edit this post and republish changes.</p>
            <div class="figma-modal-actions">
              <button onclick="hideModal('success-modal')" class="figma-btn figma-btn-white figma-btn-medium">
                Confirm
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Confirmation Modal (Centered) -->
      <div id="confirmation-modal" class="figma-modal-overlay" onclick="hideModal('confirmation-modal')">
        <div class="figma-modal" onclick="event.stopPropagation()">
          <div class="figma-modal-content">
            <div class="figma-modal-icon">
              <svg viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10"/>
                <line x1="12" y1="8" x2="12" y2="12"/>
                <line x1="12" y1="16" x2="12.01" y2="16"/>
              </svg>
            </div>
            <h3 class="figma-modal-title">Delete task</h3>
            <p class="figma-modal-description">Are you sure you want to delete this task? This action cannot be undone.</p>
            <div class="figma-modal-actions">
              <button onclick="hideModal('confirmation-modal')" class="figma-btn figma-btn-stroke figma-btn-medium">
                Cancel
              </button>
              <button onclick="hideModal('confirmation-modal')" class="figma-btn figma-btn-white figma-btn-medium">
                Delete
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Left Aligned Modal -->
      <div id="left-aligned-modal" class="figma-modal-overlay" onclick="hideModal('left-aligned-modal')">
        <div class="figma-modal" onclick="event.stopPropagation()">
          <div class="figma-modal-content left-aligned">
            <div class="figma-modal-icon">
              <svg viewBox="0 0 24 24">
                <path d="M9 12l2 2 4-4"/>
                <circle cx="12" cy="12" r="10"/>
              </svg>
            </div>
            <h3 class="figma-modal-title">Payment successful</h3>
            <p class="figma-modal-description">Your payment has been successfully processed. You will receive a confirmation email shortly.</p>
            <div class="figma-modal-actions stacked">
              <button onclick="hideModal('left-aligned-modal')" class="figma-btn figma-btn-white figma-btn-medium">
                Continue
              </button>
              <button onclick="hideModal('left-aligned-modal')" class="figma-btn figma-btn-stroke figma-btn-medium">
                View Receipt
              </button>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <script>
    // Modal Functions
    function showModal(modalId) {
      const modal = document.getElementById(modalId);
      if (modal) {
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
      }
    }

    function hideModal(modalId) {
      const modal = document.getElementById(modalId);
      if (modal) {
        modal.classList.remove('active');
        document.body.style.overflow = '';
      }
    }

    // Close modal on Escape key
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape') {
        const activeModal = document.querySelector('.figma-modal-overlay.active');
        if (activeModal) {
          activeModal.classList.remove('active');
          document.body.style.overflow = '';
        }
      }
    });
    function toggleConnection(button) {
      // Check if already connected
      if (button.classList.contains('btn-connected')) {
        return; // Do nothing if already connected
      }

      // Change button to connected state - remove all previous classes
      button.classList.remove('figma-btn', 'figma-btn-white', 'figma-account-btn', 'btn-primary', 'btn-small', 'w-full');
      button.classList.add('btn-connected');

      // Update button content with Size=s Check icon structure
      button.innerHTML = `
        <span>Connected</span>
        <div class="check-icon-container">
          <svg width="6" height="5" viewBox="0 0 6 5" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M5 1L2.5 3.5L1 2" stroke="currentColor" stroke-width="0.75" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
      `;

      // Remove onclick to prevent further clicks
      button.removeAttribute('onclick');

      // Add a subtle success animation
      button.style.transform = 'scale(0.95)';
      setTimeout(() => {
        button.style.transform = 'scale(1)';
        setTimeout(() => {
          button.style.transform = 'none'; // Reset transform after animation
        }, 100);
      }, 150);
    }

    // Enhanced Figma Tooltip System - 支持連結
    function initializeTooltips() {
      const tooltipContainers = document.querySelectorAll('[data-tooltip]');

      tooltipContainers.forEach(container => {
        const tooltipText = container.getAttribute('data-tooltip');

        // Create tooltip element
        const tooltip = document.createElement('div');
        tooltip.className = 'figma-tooltip';

        // 處理多種連結模式
        let processedText = tooltipText;

        // 處理 (Details) 連結
        processedText = processedText.replace(
          /\(Details\)/g,
          '<a href="https://twin3.ai/dna/1" target="_blank" rel="noopener noreferrer">(Details)</a>'
        );

        // 未來可以添加更多連結模式
        // processedText = processedText.replace(/\(Learn More\)/g, '<a href="...">Learn More</a>');
        // processedText = processedText.replace(/\(FAQ\)/g, '<a href="...">FAQ</a>');

        // Add tooltip content with HTML support
        tooltip.innerHTML = `
          <p class="figma-tooltip-text">${processedText}</p>
        `;

        // 防止 tooltip 內的點擊事件冒泡
        tooltip.addEventListener('click', (e) => {
          e.stopPropagation();
        });

        // Append tooltip to container
        container.appendChild(tooltip);
      });
    }

    // Initialize tooltips when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      initializeTooltips();
    });

    // Mobile menu toggle
    const mobileMenuBtn = document.getElementById('mobile-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    const mobileMenuClose = document.getElementById('mobile-menu-close');

    mobileMenuBtn?.addEventListener('click', () => {
      mobileMenu?.classList.add('open');
    });

    mobileMenuClose?.addEventListener('click', () => {
      mobileMenu?.classList.remove('open');
    });

    // Close mobile menu when clicking outside
    mobileMenu?.addEventListener('click', (e) => {
      if (e.target === mobileMenu) {
        mobileMenu.classList.remove('open');
      }
    });
  </script>

  <!-- Footer Section -->
  <footer class="bg-black text-white px-8 py-10 xl:pr-20 lg:px-0 lg:py-12" style="position: relative; z-index: 5;">
    <div class="flex flex-col-reverse lg:flex-row xl:justify-between items-start space-y-10 lg:space-y-0">
      <!-- Logo Section -->
      <div class="w-full xl:w-1/5 lg:w-[13%] text-center lg:text-left">
        <div class="flex flex-col justify-center lg:justify-start items-center pt-6 lg:pt-0" style="gap: 4px;">
          <div class="flex items-center">
            <img src="../assets/img/logo_dark.svg" alt="Logo" style="width: 40px; height: 40px;">
          </div>
          <span class="text-sm md:text-base" style="font-weight: 300; color: #888888;">twin3.ai</span>
        </div>
      </div>

      <!-- Links Section -->
      <div class="flex flex-wrap lg:flex-nowrap w-full lg:w-2/4 lg:space-x-10">
        <!-- Social Media -->
        <div class="w-full md:w-1/3 text-center lg:text-left flex-row">
          <h5 class="uppercase text-sm lg:text-base" style="font-weight: 300; color: white; padding-bottom: 12px;">Social Media</h5>
          <div class="flex justify-center lg:justify-start space-x-4">
            <a href="https://x.com/twin3_ai" target="_blank" rel="noreferrer noopener" class="hover:opacity-80 transition-opacity">
              <div class="w-6 h-6 flex items-center justify-center" style="padding: 2px;">
                <img src="../assets/img/X_logo.svg" alt="X (Twitter)" class="w-full h-full object-contain">
              </div>
            </a>
            <a href="https://opensea.io/collection/twin3" target="_blank" rel="noreferrer noopener" class="hover:opacity-80 transition-opacity">
              <img src="../assets/img/opensea_logo.svg" alt="OpenSea" class="w-6 h-6">
            </a>
            <a href="https://warpcast.com/twin3.eth" target="_blank" rel="noreferrer noopener" class="hover:opacity-80 transition-opacity">
              <img src="../assets/img/farcaster_logo.svg" alt="Warpcast" class="w-6 h-6">
            </a>
          </div>
        </div>

        <!-- Resource -->
        <div class="w-full md:w-1/3 text-center lg:text-left 2xl:mb-2 pt-4 md:pt-0">
          <h5 class="uppercase mb-3 text-sm lg:text-base" style="font-weight: 300; color: white;">Resource</h5>
          <ul class="space-y-2">
            <li><a href="https://ieeexplore.ieee.org/document/10734204" target="_blank" rel="noreferrer noopener" class="text-[#888888] hover:text-white text-sm lg:text-base" style="font-weight: 200;">Whitepaper</a></li>
            <li><a class="text-[#888888] hover:text-white text-sm lg:text-base" href="dashboard.html" style="font-weight: 200;">Tasks</a></li>
          </ul>
        </div>

        <!-- Features -->
        <div class="w-full md:w-1/3 text-center lg:text-left 2xl:mb-10 pt-4 md:pt-0">
          <h5 class="uppercase mb-3 text-sm lg:text-base" style="font-weight: 300; color: white;">Features</h5>
          <ul class="space-y-2">
            <li><a class="text-[#888888] hover:text-white text-sm lg:text-base" href="dashboard.html" style="font-weight: 200;">My Twin</a></li>
          </ul>
        </div>
      </div>

      <!-- Newsletter Section -->
      <div class="w-full lg:w-1/4 text-center lg:text-left space-y-5">
        <h5 class="uppercase mb-3 text-sm lg:text-base" style="font-weight: 300; color: white;">Subscribe to twin3 Newsletter</h5>
        <div class="flex flex-col lg:flex-row items-center lg:space-x-2 space-y-4 lg:space-y-0">
          <a href="https://www.linkedin.com/company/twin3-ai" target="_blank" rel="noreferrer noopener" class="px-4 py-2 border border-[#373737] text-black bg-white rounded-lg hover:bg-transparent hover:text-white hover:border-white transition duration-300 text-sm lg:text-base" style="font-weight: 300;">Subscribe</a>
        </div>
      </div>
    </div>

    <!-- Copyright -->
    <div class="mt-10 text-center text-gray-500 text-sm lg:text-base" style="font-weight: 200;">© 2025 twin3.ai v1.0.6</div>
  </footer>
</body>
</html>
