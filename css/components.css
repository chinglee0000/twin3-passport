/* ==========================================================================
   Twin3 Passport Components CSS - 純淨 Component Layer 命名
   基於 Figma MCP 數據的像素級精確元件樣式
   ========================================================================== */

/* ==========================================================================
   CSS Variables - 設計系統變數
   ========================================================================== */
:root {
  /* 間距系統 */
  --sds-size-space-300: 12px;
  --sds-size-space-400: 16px;
  
  /* 邊框系統 */
  --stroke-weight-1: 1px;
  
  /* 顏色系統 - 玻璃擬態 */
  --color-white-5: rgba(255, 255, 255, 0.05);
  --color-white-10: rgba(255, 255, 255, 0.10);
  --color-white-30: rgba(255, 255, 255, 0.30);
  
  /* 顏色系統 - 狀態色 */
  --color-disabled-border: rgba(83, 88, 98, 1);
  --color-disabled-text: rgba(164, 167, 174, 1);
  
  /* 顏色系統 - Task Type */
  --color-task-auto: rgba(166, 244, 197, 1);
  --color-task-review: rgba(254, 223, 137, 1);
  --color-task-insight: rgba(214, 187, 251, 1);
}

/* ==========================================================================
   全域設定
   ========================================================================== */
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
  font-family: 'Inter', sans-serif;
  background: linear-gradient(135deg, rgba(36, 36, 36, 1) 0%, rgba(24, 24, 24, 1) 100%);
  color: rgba(255, 255, 255, 1);
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
}

/* ==========================================================================
   _btn Component - 基於 67-26368 MCP 數據 (Figma Layer: "_btn")
   ========================================================================== */
._btn {
  border-radius: 8px; /* MCP: cornerRadius */
  display: inline-flex; /* MCP: layoutMode 轉換 */
  align-items: center; /* MCP: counterAxisAlignItems: CENTER */
  justify-content: center; /* MCP: primaryAxisAlignItems: CENTER */
  gap: 6px; /* MCP: itemSpacing */
  cursor: pointer;
  transition: all 0.2s ease;
  font-family: 'Kanit', sans-serif; /* MCP: style.fontFamily */
  font-weight: 300; /* MCP: style.fontWeight */
  border: 1px solid transparent; /* MCP: strokeWeight, strokeAlign: INSIDE */
  outline: none;
  box-sizing: border-box;
  min-width: fit-content;
  white-space: nowrap;
}

/* Size 變體 */
._btn.size-s {
  height: 28px; /* MCP: absoluteBoundingBox.height */
  padding: 6px 12px; /* MCP: paddingTop/Bottom: 6px, paddingLeft/Right: 12px */
  font-size: 12px; /* MCP: style.fontSize */
  line-height: 16px; /* MCP: style.lineHeightPx */
  flex-direction: row; /* MCP: layoutMode: HORIZONTAL */
}

/* 只有 type-white + status-disabled 才有 icon */
._btn.type-white.status-disabled.size-s {
  padding-right: 6px; /* MCP: 調整 icon 間距，保持 6px gap */
}

._btn.size-m {
  height: 32px; /* MCP: absoluteBoundingBox.height */
  padding: 8px 16px; /* MCP: paddingTop/Bottom: 8px, paddingLeft/Right: 16px */
  font-size: 16px; /* MCP: style.fontSize */
  line-height: 16px; /* MCP: style.lineHeightPx */
  flex-direction: row; /* MCP: 實際按鈕應保持水平排列，VERTICAL 是 Figma 內部設定 */
}

/* 只有 type-white + status-disabled 才有 icon */
._btn.type-white.status-disabled.size-m {
  padding-right: 10px; /* MCP: 調整 icon 間距，保持 6px gap */
}

/* Type 變體 */
._btn.type-white.status-default {
  background: rgba(255, 255, 255, 1); /* MCP: fills[0].color */
  border: 1px solid rgba(255, 255, 255, 1); /* MCP: strokes[0].color */
  color: rgba(0, 0, 0, 1); /* MCP: children[0].fills[0].color */
}

._btn.type-grey.status-default {
  background: rgba(255, 255, 255, 0.3); /* MCP: fills[0].opacity + color */
  border: 1px solid rgba(255, 255, 255, 0.3); /* MCP: strokes[0].opacity + color */
  color: rgba(255, 255, 255, 1); /* MCP: children[0].fills[0].color */
}

._btn.type-stroke.status-default {
  background: transparent; /* MCP: fills (empty array) */
  border: 1px solid rgba(255, 255, 255, 1); /* MCP: strokes[0].color */
  color: rgba(255, 255, 255, 1); /* MCP: children[0].fills[0].color */
}

/* Status 變體 */
._btn.status-hover {
  opacity: 0.8;
}

._btn.status-disabled {
  background: transparent; /* MCP: disabled 狀態背景透明 */
  border: 1px solid rgba(83, 88, 98, 1); /* MCP: strokes[0].color (r:0.325*255, g:0.345*255, b:0.384*255) */
  color: rgba(164, 167, 174, 1); /* MCP: fills[0].color (r:0.643*255, g:0.656*255, b:0.682*255) */
  cursor: not-allowed;
}

/* Hover 效果 */
._btn.type-white.status-default:hover {
  background: transparent;
  border: 1px solid rgba(255, 255, 255, 1);
  color: rgba(255, 255, 255, 1);
}

._btn.type-stroke.status-default:hover {
  background: rgba(255, 255, 255, 1);
  border: 1px solid rgba(255, 255, 255, 1);
  color: rgba(0, 0, 0, 1);
}

._btn.type-grey.status-default:hover {
  background: transparent;
  border: 1px solid rgba(255, 255, 255, 1);
  color: rgba(255, 255, 255, 1);
}

/* Icon 支援 - 只有 type-white + status-disabled 才顯示 */
._btn.type-white.status-disabled .btn-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

._btn.type-white.status-disabled .btn-icon img {
  display: block;
}

/* Icon 尺寸 - 基於 MCP 精確數據 */
._btn.size-s .btn-icon img {
  width: 12px; /* MCP: absoluteBoundingBox.width */
  height: 12px; /* MCP: absoluteBoundingBox.height */
}

._btn.size-m .btn-icon img {
  width: 16px; /* MCP: 基於 size-s 的 12px 推算 */
  height: 16px; /* MCP: 基於 size-s 的 12px 推算 */
}

/* 其他狀態隱藏 icon */
._btn:not(.type-white.status-disabled) .btn-icon {
  display: none;
}

/* ==========================================================================
   badge Component - 基於 MCP 數據 (Figma Layer: "badge")
   ========================================================================== */
.badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 4px 12px;
  border-radius: 16px;
  font-size: 14px;
  font-weight: 300; /* 修正: 最大 font-weight 為 300 */
  line-height: 1;
  white-space: nowrap;
}

.badge.size-sm {
  padding: 2px 8px;
  font-size: 12px;
  border-radius: 12px;
}

.badge.size-lg {
  padding: 6px 16px;
  font-size: 16px;
  border-radius: 20px;
}

.badge.type-success {
  background: #dcfce7;
  color: #166534;
}

.badge.type-coin {
  background: #fef3c7;
  color: #92400e;
}

.badge.type-matrix {
  background: #e0e7ff;
  color: #3730a3;
}

.badge.has-icon {
  gap: 6px;
}

.badge-icon {
  display: inline-flex;
  align-items: center;
  font-size: 0.9em;
}

.badge.clickable {
  cursor: pointer;
  transition: opacity 0.2s ease;
}

.badge.clickable:hover {
  opacity: 0.8;
}

.badge.clickable:active {
  transform: scale(0.95);
}



/* ==========================================================================
   company-logo Component - 基於 MCP 數據 (Figma Layer: "company-logo")
   ========================================================================== */
.company-logo {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
}

.company-logo.size-sm {
  width: 16px;
  height: 16px;
}

.company-logo.size-lg {
  width: 32px;
  height: 32px;
}

.company-logo.color-white {
  color: rgba(255, 255, 255, 1);
}

.company-logo.color-black {
  color: rgba(0, 0, 0, 1);
}

.company-logo svg {
  width: 100%;
  height: 100%;
  fill: currentColor;
}

/* ==========================================================================
   Company Logo Component - 基於用戶精確規格
   兩種變體：black (白底黑圖標) 和 white (透明底白邊框白圖標)
   ========================================================================== */

/* Black 變體容器 */
.company-logo.black {
  display: flex;
  width: 32px;
  height: 32px;
  justify-content: center;
  align-items: center;
  flex-shrink: 0;
  aspect-ratio: 1/1;
  border-radius: 4px;
  background: var(--White, #FFF);
}

/* White 變體容器 */
.company-logo.white {
  display: flex;
  width: 32px;
  height: 32px;
  justify-content: center;
  align-items: center;
  flex-shrink: 0;
  aspect-ratio: 1/1;
  border-radius: 4px;
  border: 1px solid var(--color-white-10, rgba(255, 255, 255, 0.10));
}

/* 第三方服務平台 Logo 圖標 */
.company-logo svg {
  width: 24px;
  height: 23.408px;
  flex-shrink: 0;
}

/* Black 變體的 Icon 顏色 */
.company-logo.black svg {
  fill: var(--Black, #000);
  opacity: var(--opacity-100, 1);
}

/* White 變體的 Icon 顏色 */
.company-logo.white svg {
  fill: var(--White, #FFF);
  opacity: var(--opacity-100, 1);
}

/* Task List 中的 Company Logo 特殊樣式 - 基於 MCP 數據 */
.task-list-cell .company-logo.white {
  width: 32px; /* MCP: absoluteBoundingBox.width */
  height: 32px; /* MCP: absoluteBoundingBox.height */
  border-radius: 4px; /* MCP: cornerRadius */
  border: 1px solid rgba(255, 255, 255, 0.1); /* MCP: strokes[0].opacity */
  background: transparent; /* MCP: fills = [] */
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

/* Task List 中的 SVG 圖標 */
.task-list-cell .company-logo.white svg {
  width: 20px; /* MCP: SVG Frame 內部尺寸 */
  height: 20px; /* MCP: SVG Frame 內部尺寸 */
  fill: rgba(255, 255, 255, 1); /* MCP: fills[0].color (White) */
}

/* ==========================================================================
   Accounts Connection Card Component - 基於 67-26383 MCP 數據 (Figma Layer: "Acconts-connection-card")
   ========================================================================== */
.accounts-connection-card {
  display: flex; /* MCP: layoutMode 轉換 */
  flex-direction: column; /* MCP: layoutMode: VERTICAL */
  width: 100%; /* RWD: fill container */
  height: 108px; /* MCP: absoluteBoundingBox.height */
  min-width: 180px; /* MCP: minWidth */
  max-width: 256px; /* MCP: maxWidth */
  padding: 16px; /* MCP: paddingLeft/Right/Top/Bottom: 16px */
  border-radius: 12px; /* MCP: cornerRadius */
  border: 1px solid rgba(255, 255, 255, 0.1); /* MCP: strokes[0].opacity + color */
  background: rgba(255, 255, 255, 0.05); /* MCP: fills[0].opacity + color */
  backdrop-filter: blur(8px); /* MCP: effects[0].radius */
  gap: 16px; /* MCP: itemSpacing */
  cursor: pointer;
  transition: all 0.2s ease;
  box-sizing: border-box;
}

/* Container - 基於 MCP 精確數據 */
.accounts-connection-card .container {
  display: flex; /* MCP: layoutMode 轉換 */
  flex-direction: row; /* MCP: layoutMode: HORIZONTAL */
  align-items: center; /* MCP: counterAxisAlignItems: CENTER */
  gap: 12px; /* MCP: itemSpacing */
  height: 32px; /* MCP: absoluteBoundingBox.height */
  width: 100%; /* MCP: layoutSizingHorizontal: FILL */
  padding: 0;
  margin: 0;
}

/* 標題文字 - 基於 MCP 文字樣式 */
.accounts-connection-card .heading {
  flex: 1; /* MCP: layoutGrow: 1 */
  color: rgba(255, 255, 255, 1); /* MCP: fills[0].color */
  font-family: 'Kanit', sans-serif; /* MCP: style.fontFamily */
  font-weight: 300; /* MCP: style.fontWeight */
  font-size: 16px; /* MCP: style.fontSize */
  line-height: 22.4px; /* MCP: style.lineHeightPx */
  letter-spacing: 0px; /* MCP: style.letterSpacing */
  text-align: left; /* MCP: style.textAlignHorizontal */
}

/* 按鈕容器 - 使用共用 _btn 組件 */
.accounts-connection-card ._btn {
  width: 100%; /* MCP: 填滿容器寬度 148px */
}

/* Hover 狀態 - 基於 MCP 精確數據 */
.accounts-connection-card:hover {
  background: rgba(255, 255, 255, 0.1); /* MCP: Connected=No, Hover=Yes fills[0].opacity + color */
}

/* Connected 狀態 */
.accounts-connection-card.state-connected {
  background: rgba(255, 255, 255, 0.05); /* MCP: Connected=Yes 保持相同背景 */
  border-color: rgba(166, 244, 197, 0.3); /* 視覺區分已連接狀態 */
}



/* ==========================================================================
   twin3-logo Component - 基於 MCP 數據 (Node: 68-40963 light, 68-41016 dark)
   ========================================================================== */
.twin3-logo {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  transition: all 0.2s ease;
}

/* Size 變體 */
.twin3-logo.size-sm {
  width: 16px;
  height: 16px;
}

.twin3-logo.size-md {
  width: 24px;
  height: 24px;
}

.twin3-logo.size-lg {
  width: 32px;
  height: 32px;
}

.twin3-logo.size-xl {
  width: 48px;
  height: 48px;
}

.twin3-logo.size-2xl {
  width: 64px;
  height: 64px;
}

/* Mode 變體 - 基於 MCP 數據 */
.twin3-logo.mode-light {
  /* Light mode - 基於 Node 68-40963 */
}

.twin3-logo.mode-dark {
  /* Dark mode - 基於 Node 68-41016 */
}

/* SVG 基本樣式 */
.twin3-logo svg {
  width: 100%;
  height: 100%;
  display: block;
}

/* Hover 效果 */
.twin3-logo.clickable {
  cursor: pointer;
}

.twin3-logo.clickable:hover {
  opacity: 0.8;
  transform: scale(1.05);
}

.twin3-logo.clickable:active {
  transform: scale(0.95);
}



/* ==========================================================================
   Task List Cell Component - 基於 68-40832 MCP 數據 (Figma Layer: "task-list-cell")
   ========================================================================== */
.task-list-cell {
  display: flex; /* MCP: layoutMode: HORIZONTAL/VERTICAL */
  align-items: center; /* MCP: counterAxisAlignItems: CENTER */
  width: 559px; /* MCP: absoluteBoundingBox.width (Desktop) */
  padding: 16px; /* MCP: paddingLeft/Right/Top/Bottom */
  border-radius: 12px; /* MCP: cornerRadius */
  border: 1px solid rgba(255, 255, 255, 0.1); /* MCP: strokes[0].opacity + color */
  background: rgba(255, 255, 255, 0.05); /* MCP: fills[0].opacity + color */
  backdrop-filter: blur(8px); /* MCP: effects[0].radius */
  gap: 16px; /* MCP: itemSpacing */
  box-sizing: border-box;
  transition: all 0.2s ease;
}

/* Desktop Layout - 基於 MCP 精確數據 */
.task-list-cell.breakpoint-desktop {
  flex-direction: row; /* MCP: layoutMode: HORIZONTAL */
  width: 559px; /* MCP: absoluteBoundingBox.width */
}

/* Mobile Layout - 基於 MCP 精確數據 */
.task-list-cell.breakpoint-mobile {
  flex-direction: column; /* MCP: layoutMode: VERTICAL */
  width: 300px; /* MCP: absoluteBoundingBox.width (Mobile) */
}

/* Contribution Type - 基於 MCP Node: 68:40831 */
.task-list-cell.type-contribution.breakpoint-desktop {
  /* height: 88px; 移除固定高度，改為 hug container */
}

.task-list-cell.type-contribution.breakpoint-mobile {
  height: 164px; /* MCP: absoluteBoundingBox.height (Mobile) */
}

/* Reward Type - 基於 MCP Node: 160:2914 */
.task-list-cell.type-reward.breakpoint-desktop {
  /* height: 112px; 移除固定高度，改為 hug container */
}

.task-list-cell.type-reward.breakpoint-mobile {
  height: 182px; /* MCP: absoluteBoundingBox.height (Mobile) */
}

/* Default Status - 基於 MCP 精確數據 */
.task-list-cell.status-default {
  background: rgba(255, 255, 255, 0.05); /* MCP: fills[0].opacity (5%) */
  border-color: rgba(255, 255, 255, 0.1); /* MCP: strokes[0].opacity (10%) */
}

/* Hover Status - 基於 MCP Node: 68:40833 */
.task-list-cell.status-hover,
.task-list-cell:hover {
  background: rgba(255, 255, 255, 0.1); /* MCP: fills[0].opacity (10%) */
  border-color: rgba(255, 255, 255, 0.1); /* MCP: strokes[0].opacity (10%) */
}

/* Completed Status - 基於 MCP Node: 68:40847 */
.task-list-cell.status-completed {
  background: rgba(255, 255, 255, 0.05); /* MCP: fills[0].opacity (5%) */
  border-color: rgba(255, 255, 255, 0.1); /* MCP: strokes[0].opacity (10%) */
}

/* Contribution Type Container - 基於 MCP Node: 68:40831 */
.task-list-cell.type-contribution .task-container {
  display: flex; /* MCP: layoutMode: HORIZONTAL */
  padding-right: 0; /* MCP: 移除右側 padding */
  align-items: flex-start; /* MCP: counterAxisAlignItems: MIN */
  align-content: flex-start; /* MCP: 多行對齊方式 */
  gap: 12px; /* MCP: itemSpacing */
  flex: 1 0 0; /* MCP: flex-grow: 1, flex-shrink: 0, flex-basis: 0 */
  flex-wrap: wrap; /* MCP: layoutWrap: WRAP */
}

/* Contribution Mobile Container */
.task-list-cell.type-contribution.breakpoint-mobile .task-container {
  flex-direction: column; /* MCP: Mobile layoutMode: VERTICAL */
  align-items: flex-start; /* MCP: Mobile counterAxisAlignItems: MIN */
  gap: 8px; /* MCP: Mobile itemSpacing */
}

/* Reward Type Content - 基於 MCP Node: 160:2914 */
.task-list-cell.type-reward .task-container {
  display: flex; /* MCP: layoutMode: VERTICAL */
  flex-direction: column; /* MCP: content 垂直佈局 */
  flex: 1; /* MCP: layoutGrow: 1 */
  align-items: flex-start; /* MCP: counterAxisAlignItems: MIN */
  gap: 4px; /* MCP: itemSpacing */
}

/* Reward Mobile Container */
.task-list-cell.type-reward.breakpoint-mobile .task-container {
  flex-direction: column; /* MCP: 保持垂直佈局 */
  align-items: flex-start; /* MCP: counterAxisAlignItems: MIN */
  gap: 4px; /* MCP: itemSpacing */
}

/* Company Logo - 只在 Contribution 類型顯示 */
.task-list-cell.type-contribution .company-logo {
  width: 32px; /* MCP: absoluteBoundingBox.width */
  height: 32px; /* MCP: absoluteBoundingBox.height */
  flex-shrink: 0; /* MCP: layoutGrow: 0 */
}

/* Contribution Description Container - 基於 MCP description Frame */
.task-list-cell.type-contribution .task-description {
  display: flex; /* MCP: layoutMode: HORIZONTAL */
  flex-direction: column; /* MCP: 垂直排列 */
  flex: 1; /* MCP: layoutGrow: 1 */
  align-items: flex-start; /* MCP: counterAxisAlignItems: MIN */
  padding: 2px 0; /* MCP: paddingTop/Bottom */
  gap: 10px; /* MCP: itemSpacing */
}

/* Reward Mission Container - 基於 MCP mission Frame */
.task-list-cell.type-reward .task-description {
  display: flex; /* MCP: layoutMode: VERTICAL */
  flex-direction: column; /* MCP: mission 垂直佈局 */
  flex: 1; /* MCP: layoutGrow: 1 */
  align-items: flex-start; /* MCP: counterAxisAlignItems: MIN */
  gap: 8px; /* MCP: itemSpacing */
}

/* Contribution Text - 2行最大 */
.task-list-cell.type-contribution .task-description-text {
  flex: 1; /* MCP: layoutGrow: 1 */
  font-family: 'Kanit', sans-serif; /* MCP: style.fontFamily */
  font-weight: 300; /* MCP: style.fontWeight (Light) */
  font-size: 16px; /* MCP: style.fontSize */
  line-height: 25.6px; /* MCP: style.lineHeightPx */
  color: rgba(255, 255, 255, 1); /* MCP: fills[0].color */
  text-align: left; /* MCP: style.textAlignHorizontal */
  overflow: hidden;
  text-overflow: ellipsis; /* MCP: textTruncation: ENDING */
  display: -webkit-box;
  -webkit-line-clamp: 2; /* MCP: maxLines: 2 */
  -webkit-box-orient: vertical;
}

/* Reward Text - 2行最大 (與 Contribution 一致) */
.task-list-cell.type-reward .task-description-text {
  flex: 1; /* MCP: layoutGrow: 1 */
  font-family: 'Kanit', sans-serif; /* MCP: style.fontFamily */
  font-weight: 300; /* MCP: style.fontWeight (Light) */
  font-size: 16px; /* MCP: style.fontSize */
  line-height: 25.6px; /* MCP: style.lineHeightPx */
  color: rgba(255, 255, 255, 1); /* MCP: fills[0].color */
  text-align: left; /* MCP: style.textAlignHorizontal */
  overflow: hidden;
  text-overflow: ellipsis; /* MCP: textTruncation: ENDING */
  display: -webkit-box;
  -webkit-line-clamp: 2; /* 修正: 改為 2 行最大，與 Contribution 一致 */
  -webkit-box-orient: vertical;
}

/* Badges Container - 只在 Reward 類型顯示 */
.task-list-cell.type-reward .task-badges {
  display: flex; /* MCP: layoutMode: HORIZONTAL */
  flex-wrap: wrap; /* MCP: layoutWrap: WRAP */
  gap: 4px; /* MCP: itemSpacing */
  align-items: center; /* MCP: counterAxisAlignItems: CENTER */
}

/* Mobile Button Adjustments - 基於 MCP Mobile 變體 */
.task-list-cell.breakpoint-mobile ._btn {
  width: 100%; /* MCP: Mobile 按鈕填滿容器寬度 */
  max-width: none; /* 移除最大寬度限制，完全填滿容器 */
}

/* ==========================================================================
   Task List Cell 響應式設計 - 基於 MCP 數據
   ========================================================================== */

/* 響應式斷點 - 基於 MCP Breakpoints 變體 */
@media (max-width: 768px) {
  .task-list-cell {
    width: 100% !important; /* 移動端填滿寬度 */
    max-width: 300px; /* MCP: Mobile absoluteBoundingBox.width */
    flex-direction: column !important; /* MCP: Mobile layoutMode: VERTICAL */
  }

  .task-list-cell .task-container {
    flex-direction: column !important; /* MCP: Mobile Container 垂直佈局 */
    align-items: flex-start !important; /* MCP: Mobile counterAxisAlignItems: MIN */
    gap: 8px !important; /* MCP: Mobile itemSpacing */
  }

  .task-list-cell ._btn {
    width: 100% !important; /* MCP: Mobile 按鈕填滿容器寬度 */
    max-width: none !important; /* 移除最大寬度限制，完全填滿容器 */
  }

  /* Contribution Mobile 特殊處理 */
  .task-list-cell.type-contribution .task-container {
    flex-direction: column !important; /* MCP: Mobile layoutMode: VERTICAL */
    align-items: flex-start !important;
    gap: 8px !important;
  }

  /* Reward Mobile 保持垂直佈局 */
  .task-list-cell.type-reward .task-container {
    flex-direction: column !important;
    gap: 4px !important;
  }
}

/* 平板響應式 */
@media (max-width: 1024px) and (min-width: 769px) {
  .task-list-cell {
    width: 100%;
    max-width: 500px; /* 平板中等寬度 */
  }
}

/* 大螢幕優化 */
@media (min-width: 1200px) {
  .task-list-cell {
    width: 559px; /* MCP: Desktop absoluteBoundingBox.width */
  }
}



/* ==========================================================================
   Earned Badges Component - 基於 68-42262 MCP 數據 (Figma Layer: "earned-badges")
   ========================================================================== */
.earned-badge {
  display: inline-flex; /* MCP: layoutMode: HORIZONTAL */
  align-items: center; /* MCP: counterAxisAlignItems: CENTER */
  justify-content: center; /* MCP: primaryAxisAlignItems: CENTER */
  height: 22px; /* MCP: absoluteBoundingBox.height */
  padding: 2px 8px 2px 6px; /* MCP: paddingTop/Right/Bottom/Left */
  border-radius: 16px; /* MCP: cornerRadius */
  border: 1px solid rgba(255, 255, 255, 0.2); /* MCP: strokes[0].opacity + color */
  background: transparent; /* MCP: fills = [] */
  gap: 4px; /* MCP: itemSpacing */
  font-family: 'Inter', sans-serif; /* MCP: style.fontFamily */
  font-weight: 300; /* 修正: 最大 font-weight 為 300 */
  font-size: 12px; /* MCP: style.fontSize */
  line-height: 18px; /* MCP: style.lineHeightPx */
  color: rgba(255, 255, 255, 1); /* MCP: fills[0].color */
  text-align: center; /* MCP: style.textAlignHorizontal */
  white-space: nowrap;
  box-sizing: border-box;
}

/* Icon 樣式 - 基於 MCP 精確數據 */
.earned-badge .badge-icon {
  width: 12px; /* MCP: absoluteBoundingBox.width */
  height: 12px; /* MCP: absoluteBoundingBox.height */
  stroke: currentColor !important; /* 繼承文字顏色 */
  stroke-width: 2px !important; /* 修正: icon 粗細為 2px */
  stroke-linecap: round; /* MCP: strokeCap: ROUND */
  stroke-linejoin: round; /* MCP: strokeJoin: ROUND */
  fill: none !important;
}

/* 通用 SVG Icon 粗細規範 */
svg {
  stroke-width: 2px; /* 修正: 統一所有 icon 粗細為 2px */
}

/* SVG 子元素粗細規範 */
svg line,
svg path,
svg circle,
svg rect {
  stroke-width: 2px !important; /* 強制設定所有 SVG 元素粗細為 2px */
  stroke: currentColor !important;
  fill: none !important;
}

/* Add Button SVG 例外規則 - 覆蓋全域設定 */
.add-button svg line,
.add-button svg path,
.add-button svg circle,
.add-button svg rect {
  stroke-width: 2px !important; /* 統一 stroke-width 規範 */
  stroke: rgba(164, 167, 174, 1) !important; /* MCP: Icon strokes[0].color (Gray/400) */
  fill: none !important;
}

/* Carousel Arrow SVG 例外規則 - 覆蓋全域設定 */
.carousel-arrow svg line,
.carousel-arrow svg path,
.carousel-arrow svg circle,
.carousel-arrow svg rect {
  stroke-width: 1.67px !important; /* MCP: strokeWeight 1.6699999570846558 */
  stroke: rgba(255, 255, 255, 1) !important; /* MCP: Icon strokes[0].color (White) */
  fill: none !important;
}

/* Company Logo SVG 不使用 stroke */
.company-logo svg {
  stroke-width: 0; /* Company Logo 使用 fill，不需要 stroke */
}

.company-logo svg line,
.company-logo svg path,
.company-logo svg circle,
.company-logo svg rect {
  stroke-width: 0 !important;
  stroke: none !important;
  fill: currentColor !important;
}

/* Date Overdued 狀態 - 基於 MCP 精確數據 */
.earned-badge.type-date.status-overdued {
  border-color: rgba(249, 112, 102, 1); /* MCP: strokes[0].color (date overdued) */
  color: rgba(249, 112, 102, 1); /* MCP: fills[0].color (date overdued) */
}

/* Participants Overdued 狀態 - 基於 MCP Node 95-1697 精確數據 */
.earned-badge.type-participants.status-overdued {
  border-color: rgba(255, 255, 255, 0.2); /* MCP: strokes[0].opacity + color (仍是白色邊框) */
  color: rgba(164, 167, 174, 1); /* MCP: fills[0].color (Gray/400) */
}

/* Check Icon 樣式 - 使用 assets/img/Check icon.svg */
.earned-badge .check-icon {
  width: 12px; /* MCP: absoluteBoundingBox.width */
  height: 12px; /* MCP: absoluteBoundingBox.height */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  background-image: url('../assets/img/Check icon.svg');
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
}

/* Participants Overdued 的 Check Icon 需要調整顏色 */
.earned-badge.type-participants.status-overdued .check-icon {
  filter: hue-rotate(0deg) saturate(0%) brightness(0.65); /* 轉換為 Gray/400 色調 */
}

/* Coin Badge - 基於 MCP Node: 68:42260 */
.earned-badge.type-coin {
  /* 寬度根據內容自動調整，MCP 顯示約 64px */
}

/* Date Badge - 基於 MCP Node: 95:1145 */
.earned-badge.type-date {
  /* 寬度根據內容自動調整，MCP 顯示約 105px */
}

/* Participants Badge - 基於 MCP Node: 95:1149 */
.earned-badge.type-participants {
  /* 寬度根據內容自動調整，MCP 顯示約 82-98px */
}

/* Rank Badge - 基於 MCP Node: 68:42263 */
.earned-badge.type-rank {
  /* 寬度根據內容自動調整，MCP 顯示約 115px */
}

/* Rank Badge 特殊佈局 - 文字在前，icon 在後 */
.earned-badge.type-rank .badge-text {
  display: flex;
  align-items: center;
  gap: 2px; /* MCP: children[0].itemSpacing */
}

/* ==========================================================================
   Task Type Component - 基於 160-1583 MCP 數據 (Figma Layer: "task-type")
   ========================================================================== */
.task-type {
  display: inline-flex; /* MCP: layoutMode: HORIZONTAL */
  align-items: center; /* 垂直居中 */
  justify-content: center; /* 水平居中 */
  height: 20px; /* MCP: absoluteBoundingBox.height */
  padding: 2px 8px; /* MCP: paddingTop/Bottom=2px, paddingLeft/Right=8px */
  border-radius: 4px; /* MCP: cornerRadius */
  border: 1px solid; /* MCP: strokeWeight + strokeAlign: INSIDE */
  background: transparent; /* MCP: fills = [] */
  font-family: 'Kanit', sans-serif; /* MCP: style.fontFamily */
  font-weight: 300; /* MCP: style.fontWeight (Light) */
  font-size: 12px; /* MCP: style.fontSize */
  line-height: 16px; /* MCP: style.lineHeightPx */
  text-align: center; /* MCP: style.textAlignHorizontal */
  white-space: nowrap;
  box-sizing: border-box;
  width: fit-content; /* MCP: layoutSizingHorizontal: HUG */
}

/* Auto 變體 - 基於 MCP Node: 160:1584 (Success/200) */
.task-type.type-auto {
  border-color: rgba(166, 244, 197, 1); /* MCP: strokes[0].color (Success/200) */
  color: rgba(166, 244, 197, 1); /* MCP: fills[0].color (Success/200) */
}

/* Review 變體 - 基於 MCP Node: 160:1586 (Warning/200) */
.task-type.type-review {
  border-color: rgba(254, 223, 137, 1); /* MCP: strokes[0].color (Warning/200) */
  color: rgba(254, 223, 137, 1); /* MCP: fills[0].color (Warning/200) */
}

/* Insight 變體 - 基於 MCP Node: 160:1588 (Brand/300) */
.task-type.type-insight {
  border-color: rgba(214, 187, 251, 1); /* MCP: strokes[0].color (Brand/300) */
  color: rgba(214, 187, 251, 1); /* MCP: fills[0].color (Brand/300) */
}

/* ==========================================================================
   Tab Component - 基於 135:3584 MCP 數據 (共用元件)
   ========================================================================== */

.tab {
  /* MCP: 基礎尺寸和佈局 */
  display: inline-flex; /* MCP: layoutMode: HORIZONTAL */
  align-items: center; /* MCP: counterAxisAlignItems: CENTER */
  justify-content: center; /* MCP: primaryAxisAlignItems: CENTER */

  /* MCP: 內邊距 */
  padding: 8px 12px; /* MCP: paddingTop/Bottom: 8px, paddingLeft/Right: 12px */

  /* MCP: 間距 */
  gap: 8px; /* MCP: itemSpacing */

  /* MCP: 圓角 */
  border-radius: 6px; /* MCP: cornerRadius */

  /* MCP: 邊框 */
  border: none; /* MCP: strokes 為空 */

  /* MCP: 字體樣式 */
  font-family: 'Kanit', sans-serif; /* MCP: fontFamily: Kanit */
  font-weight: 300; /* MCP: fontWeight: 300 (Light) */
  font-size: 16px; /* MCP: fontSize */
  line-height: 16px; /* MCP: lineHeightPx */

  /* MCP: 尺寸控制 */
  height: 38px; /* MCP: absoluteBoundingBox.height (sm size) */
  min-width: 48px; /* MCP: absoluteBoundingBox.width (最小寬度) */

  /* 基本樣式 */
  cursor: pointer;
  transition: all 0.2s ease;
  text-decoration: none;
  white-space: nowrap;
  user-select: none;
  box-sizing: border-box;
}

/* Default 狀態 (Current=False) - MCP 精確實現 */
.tab {
  /* MCP: Current=False 背景透明 */
  background: transparent; /* MCP: fills 為空 */

  /* MCP: Current=False 文字白色 */
  color: rgba(255, 255, 255, 1); /* MCP: fills[0].color (White) */
}

/* Active 狀態 (Current=True) - MCP 精確實現 */
.tab.active {
  /* MCP: Current=True 白色背景 */
  background: rgba(255, 255, 255, 1); /* MCP: fills[0].color (White) */

  /* MCP: Current=True 文字黑色 */
  color: rgba(0, 0, 0, 1); /* MCP: fills[0].color (Black) */
}

/* Hover 狀態 - 基於 MCP State=Hover */
.tab:hover:not(.active) {
  /* MCP: State=Hover 輕微背景變化 */
  background: rgba(255, 255, 255, 0.1);
}

.tab.active:hover {
  /* MCP: Current=True + State=Hover */
  background: rgba(255, 255, 255, 0.9);
}

/* Disabled 狀態 - 基於 MCP State=Disable */
.tab:disabled,
.tab.disabled {
  /* MCP: State=Disable */
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none;
}

/* Badge 樣式 - 基於 MCP Badge 組件 */
.tab .badge {
  /* MCP: Badge 組件樣式 */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 16px;
  height: 18px; /* MCP: Badge absoluteBoundingBox.height */
  padding: 2px 8px; /* MCP: Badge padding */
  background: rgba(249, 249, 249, 1); /* MCP: Badge fills (Gray_light) */
  border: 1px solid rgba(217, 217, 217, 1); /* MCP: Badge strokes */
  border-radius: 16px; /* MCP: Badge cornerRadius (Pill shape) */
  font-size: 12px; /* MCP: Badge fontSize */
  font-weight: 700; /* MCP: Badge fontWeight (Bold) */
  line-height: 18px; /* MCP: Badge lineHeightPx */
  color: rgba(88, 90, 93, 1); /* MCP: Badge text color */
}

/* ==========================================================================
   Mobile Dropdown Component - 基於 151:3966 MCP 數據 (共用元件)
   ========================================================================== */

.mobile-dropdown {
  /* MCP: 基礎容器 */
  position: relative;
  width: 100%; /* MCP: layoutSizingHorizontal: FILL */
}

.mobile-dropdown-trigger {
  /* MCP: Input 容器尺寸 */
  width: 100%; /* MCP: layoutSizingHorizontal: FILL */
  height: 40px; /* MCP: absoluteBoundingBox.height */

  /* MCP: 佈局 */
  display: flex; /* MCP: layoutMode: HORIZONTAL */
  align-items: center; /* MCP: counterAxisAlignItems: CENTER */
  justify-content: space-between;

  /* MCP: 內邊距 */
  padding: 10px 14px; /* MCP: paddingTop/Bottom: 10px, paddingLeft/Right: 14px */

  /* MCP: 間距 */
  gap: 8px; /* MCP: itemSpacing */

  /* MCP: 背景 */
  background: rgba(255, 255, 255, 0.05); /* MCP: fills[0] opacity: 0.05 */

  /* MCP: 邊框 */
  border: 1px solid rgba(255, 255, 255, 0.1); /* MCP: strokes[0] opacity: 0.1 */
  border-radius: 8px; /* MCP: cornerRadius */

  /* MCP: 字體樣式 */
  font-family: 'Kanit', sans-serif; /* MCP: fontFamily: Kanit */
  font-weight: 300; /* MCP: fontWeight: 300 (Light) */
  font-size: 16px; /* MCP: fontSize */
  line-height: 16px; /* MCP: lineHeightPx */
  color: rgba(255, 255, 255, 1); /* MCP: fills[0].color (White) */

  /* 基本樣式 */
  cursor: pointer;
  transition: all 0.2s ease;
  user-select: none;
  box-sizing: border-box;

  /* MCP: Shadow */
  box-shadow: 0 1px 2px rgba(16, 24, 40, 0.05); /* MCP: effects DROP_SHADOW */
}

.mobile-dropdown-trigger:hover {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.15);
}

.mobile-dropdown-trigger.open {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.2);
}

/* Chevron Icon - 基於 MCP chevron-down 數據 */
.mobile-dropdown-chevron {
  /* MCP: chevron-down 20×20px */
  width: 20px; /* MCP: absoluteBoundingBox.width */
  height: 20px; /* MCP: absoluteBoundingBox.height */

  /* MCP: Icon 樣式 */
  stroke: rgba(255, 255, 255, 1) !important; /* MCP: strokes[0].color (White) */
  stroke-width: 1.67px !important; /* MCP: strokeWeight: 1.6666666269302368 */
  stroke-linecap: round !important; /* MCP: strokeCap: ROUND */
  stroke-linejoin: round !important; /* MCP: strokeJoin: ROUND */
  fill: none !important;

  transition: transform 0.2s ease;
}

.mobile-dropdown-trigger.open .mobile-dropdown-chevron {
  transform: rotate(180deg);
}

/* Dropdown Menu */
.mobile-dropdown-menu {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  z-index: 1000;

  background: rgba(42, 42, 42, 0.95);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  margin-top: 4px;

  max-height: 300px;
  overflow-y: auto;

  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px);
  transition: all 0.2s ease;

  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08);
}

.mobile-dropdown-menu.open {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.mobile-dropdown-option {
  display: flex;
  align-items: center;
  padding: 12px 16px;

  font-family: 'Kanit', sans-serif;
  font-weight: 300;
  font-size: 16px;
  color: rgba(255, 255, 255, 0.8);

  cursor: pointer;
  transition: all 0.2s ease;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.mobile-dropdown-option:last-child {
  border-bottom: none;
}

.mobile-dropdown-option:hover {
  background: rgba(255, 255, 255, 0.05);
  color: rgba(255, 255, 255, 1);
}

.mobile-dropdown-option.selected {
  background: rgba(255, 255, 255, 0.1);
  color: rgba(255, 255, 255, 1);
}

/* ==========================================================================
   Task Type Component - 基於 160-1583 MCP 數據 (Figma Layer: "task-type")
   ========================================================================== */
.task-type {
  display: inline-flex; /* MCP: layoutMode: HORIZONTAL */
  align-items: center; /* 垂直居中 */
  justify-content: center; /* 水平居中 */
  height: 20px; /* MCP: absoluteBoundingBox.height */
  padding: 2px 8px; /* MCP: paddingTop/Bottom=2px, paddingLeft/Right=8px */
  border-radius: 4px; /* MCP: cornerRadius */
  border: 1px solid; /* MCP: strokeWeight + strokeAlign: INSIDE */
  background: transparent; /* MCP: fills = [] (無背景色) */
  font-family: 'Kanit', sans-serif; /* MCP: style.fontFamily */
  font-weight: 300; /* MCP: style.fontWeight (Light) */
  font-size: 12px; /* MCP: style.fontSize */
  line-height: 16px; /* MCP: style.lineHeightPx */
  text-align: center; /* MCP: style.textAlignHorizontal */
  white-space: nowrap;
  box-sizing: border-box;
  width: fit-content; /* MCP: layoutSizingHorizontal: HUG */
}

/* Auto 變體 - 基於 MCP Node: 160:1584 (Success/200) */
.task-type.type-auto {
  border-color: rgba(166, 244, 197, 1); /* MCP: strokes[0].color (Success/200) */
  color: rgba(166, 244, 197, 1); /* MCP: fills[0].color (Success/200) */
}

/* Review 變體 - 基於 MCP Node: 160:1586 (Warning/200) */
.task-type.type-review {
  border-color: rgba(254, 223, 137, 1); /* MCP: strokes[0].color (Warning/200) */
  color: rgba(254, 223, 137, 1); /* MCP: fills[0].color (Warning/200) */
}

/* Insight 變體 - 基於 MCP Node: 160:1588 (Brand/300) */
.task-type.type-insight {
  border-color: rgba(214, 187, 251, 1); /* MCP: strokes[0].color (Brand/300) */
  color: rgba(214, 187, 251, 1); /* MCP: fills[0].color (Brand/300) */
}

/* ==========================================================================
   Carousel Arrow Component - 基於 145:3148 MCP 數據 (共用元件)
   ========================================================================== */

.carousel-arrow {
  /* MCP: 46×46px 容器尺寸 */
  width: 46px; /* MCP: absoluteBoundingBox.width */
  height: 46px; /* MCP: absoluteBoundingBox.height */

  /* MCP: 佈局模式 HORIZONTAL */
  display: flex; /* MCP: layoutMode: HORIZONTAL */
  align-items: center; /* MCP: counterAxisAlignItems: CENTER */
  justify-content: center; /* MCP: primaryAxisAlignItems: CENTER */

  /* MCP: 間距和內邊距 */
  gap: 12px; /* MCP: itemSpacing */
  padding: 8px; /* MCP: paddingLeft/Right/Top/Bottom */

  /* MCP: 邊框設定 */
  border: none; /* MCP: strokes 為空 */

  /* 基本樣式 */
  cursor: pointer;
  transition: all 0.2s ease;
  flex-shrink: 0;
  box-sizing: border-box;
}

/* 左箭頭 - 基於 MCP Chevron=left 數據 */
.carousel-arrow.chevron-left {
  /* MCP: rectangleCornerRadii [8,0,0,8] */
  border-radius: 8px 0 0 8px; /* MCP: rectangleCornerRadii */

  /* MCP: GRADIENT_LINEAR 背景 (Chevron=left) */
  /* 從起點 (0.609, 0.543) 到終點 (1.0, 0.543) = 水平向右 */
  background: linear-gradient(
    to right, /* MCP: gradientHandlePositions 水平向右 */
    rgba(45, 45, 45, 1) 0%, /* MCP: gradientStops[0] r:0.1747, g:0.1747, b:0.1747, a:1 */
    rgba(45, 45, 45, 0) 100% /* MCP: gradientStops[1] r:0.1765, g:0.1765, b:0.1765, a:0 */
  );
}

/* 右箭頭 - 基於 MCP Chevron=right 數據 */
.carousel-arrow.chevron-right {
  /* MCP: rectangleCornerRadii [0,8,8,0] */
  border-radius: 0 8px 8px 0; /* MCP: rectangleCornerRadii */

  /* MCP: GRADIENT_LINEAR 背景 (Chevron=right) */
  /* 從起點 (0.402, 0.543) 到終點 (0, 0.543) = 水平向左 */
  background: linear-gradient(
    to left, /* MCP: gradientHandlePositions 水平向左 */
    rgba(45, 45, 45, 1) 0%, /* MCP: gradientStops[0] r:0.1747, g:0.1747, b:0.1747, a:1 */
    rgba(45, 45, 45, 0) 100% /* MCP: gradientStops[1] r:0.1765, g:0.1765, b:0.1765, a:0 */
  );
}

/* Hover 狀態 */
.carousel-arrow:hover {
  transform: scale(1.05); /* 輕微縮放效果 */
  opacity: 0.9; /* 輕微透明度變化 */
}

/* Disabled 狀態 */
.carousel-arrow:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

/* Icon 樣式 - 基於 MCP chevron instance 數據 */
.carousel-arrow svg {
  /* MCP: chevron icon 20×20px */
  width: 20px; /* MCP: chevron-left/right absoluteBoundingBox.width */
  height: 20px; /* MCP: chevron-left/right absoluteBoundingBox.height */

  /* 確保圖標正確顯示 */
  display: block;
  flex-shrink: 0;

  /* MCP: Icon 顏色 (White) */
  stroke: rgba(255, 255, 255, 1) !important; /* MCP: strokes[0].color (White) */
  stroke-width: 1.67px !important; /* MCP: strokeWeight 1.6699999570846558 */
  stroke-linecap: round !important; /* MCP: strokeCap: ROUND */
  stroke-linejoin: round !important; /* MCP: strokeJoin: ROUND */
  fill: none !important;
  transition: stroke 0.2s ease;
}

/* Hover 狀態的圖標顏色 */
.carousel-arrow:hover svg {
  stroke: rgba(255, 255, 255, 0.8) !important;
}

/* Disabled 狀態的圖標顏色 */
.carousel-arrow:disabled svg {
  stroke: rgba(255, 255, 255, 0.5) !important;
}

/* ==========================================================================
   Add Button Component - 基於 151:3635 MCP 數據 (共用元件)
   ========================================================================== */

.add-button {
  /* MCP: 24×24px 容器尺寸 */
  width: 24px; /* MCP: absoluteBoundingBox.width */
  height: 24px; /* MCP: absoluteBoundingBox.height */

  /* MCP: 佈局模式 HORIZONTAL */
  display: flex; /* MCP: layoutMode: HORIZONTAL */
  align-items: center; /* MCP: counterAxisAlignItems: CENTER */
  justify-content: center; /* MCP: primaryAxisAlignItems: CENTER */

  /* MCP: 間距和內邊距 - 注意：Content frame 有 4px padding */
  gap: 10px; /* MCP: itemSpacing */
  padding: 4px; /* MCP: Content frame paddingTop/Right/Bottom/Left */

  /* MCP: 背景填充 */
  background: transparent; /* MCP: fills 為空 */

  /* MCP: 邊框設定 (status=Default) */
  border: 1px solid rgba(164, 167, 174, 1); /* MCP: strokes[0].color (Gray/400) */

  /* MCP: 圓角設定 */
  border-radius: 12px; /* MCP: cornerRadius */

  /* 基本樣式 */
  cursor: pointer;
  transition: all 0.2s ease;
  flex-shrink: 0;
  box-sizing: border-box;
}

/* Hover 狀態 - 基於 MCP status=hover */
.add-button:hover {
  border-color: rgba(255, 255, 255, 1); /* MCP: strokes[0].color (White) */
  background: rgba(255, 255, 255, 0.05); /* 輕微背景變化 */
}

/* Disabled 狀態 */
.add-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  border-color: rgba(164, 167, 174, 0.5);
}

/* Icon 樣式 - 基於 MCP plus instance 數據 */
.add-button svg {
  /* MCP: plus icon 16×16px */
  width: 16px; /* MCP: plus instance absoluteBoundingBox.width */
  height: 16px; /* MCP: plus instance absoluteBoundingBox.height */

  /* 確保圖標正確顯示 */
  display: block;
  flex-shrink: 0;

  /* MCP: Icon 顏色 (status=Default) */
  stroke: rgba(164, 167, 174, 1) !important; /* MCP: Icon strokes[0].color (Gray/400) */
  stroke-width: 2px !important; /* 統一 stroke-width 規範 */
  stroke-linecap: round !important; /* MCP: strokeCap: ROUND */
  stroke-linejoin: round !important; /* MCP: strokeJoin: ROUND */
  fill: none !important;
  transition: stroke 0.2s ease;
}

/* Hover 狀態的圖標顏色 - 基於 MCP status=hover */
.add-button:hover svg {
  stroke: rgba(255, 255, 255, 1) !important; /* MCP: Icon strokes[0].color (White) */
}

.add-button:hover svg line,
.add-button:hover svg path,
.add-button:hover svg circle,
.add-button:hover svg rect {
  stroke: rgba(255, 255, 255, 1) !important; /* MCP: Icon strokes[0].color (White) */
}

/* Disabled 狀態的圖標顏色 */
.add-button:disabled svg {
  stroke: rgba(164, 167, 174, 0.5) !important;
}

.add-button:disabled svg line,
.add-button:disabled svg path,
.add-button:disabled svg circle,
.add-button:disabled svg rect {
  stroke: rgba(164, 167, 174, 0.5) !important;
}

/* Carousel Arrow Hover 狀態 SVG 例外規則 */
.carousel-arrow:hover svg line,
.carousel-arrow:hover svg path,
.carousel-arrow:hover svg circle,
.carousel-arrow:hover svg rect {
  stroke: rgba(255, 255, 255, 0.8) !important;
}

/* Carousel Arrow Disabled 狀態 SVG 例外規則 */
.carousel-arrow:disabled svg line,
.carousel-arrow:disabled svg path,
.carousel-arrow:disabled svg circle,
.carousel-arrow:disabled svg rect {
  stroke: rgba(255, 255, 255, 0.5) !important;
}

/* ==========================================================================
   Horizontal Tabs Component - 基於 151:3559 + 135:3584 MCP 數據 (重新實現)
   ========================================================================== */

/* 主容器 */
.horizontal-tabs {
  width: 100%;
  position: relative;
}

/* Desktop/Tablet 版本 */
.horizontal-tabs-desktop {
  display: flex;
  align-items: center;
  gap: 16px;

  /* Hug Content - 不會一開始就 fill container */
  width: fit-content;
  max-width: 100%;
  position: relative;
}

/* Tab 容器 */
.horizontal-tabs-container {
  display: flex;
  align-items: center;
  gap: 8px;
  position: relative;

  /* Hug Content - 根據 tab 數量調整寬度 */
  width: fit-content;
  max-width: calc(100vw - 120px); /* 預留 carousel arrows 和 add button 空間 */
}

/* Tab Bar 容器 - 基於 MCP 數據 */
.horizontal-tabs .tab-bar {
  /* MCP: 160×46px (hug) or 910×46px (full width) */
  display: flex;
  height: 46px; /* MCP: absoluteBoundingBox.height */
  padding: 4px; /* MCP: paddingTop/Right/Bottom/Left */
  align-items: center;
  gap: 4px; /* MCP: itemSpacing */

  /* MCP: 背景和圓角 */
  border-radius: 8px; /* MCP: cornerRadius */
  background: rgba(36, 36, 36, 1); /* MCP: fills[0].color */

  width: fit-content;
  position: relative; /* 為滾動箭頭定位 */
}

/* Full Width Tab Bar */
.horizontal-tabs .tab-bar.full-width {
  width: 910px; /* MCP: absoluteBoundingBox.width */
  overflow: hidden; /* 直接 cut 掉超出的部分 */
}

/* Tabs 滾動容器 */
.horizontal-tabs .tabs-scroll-container {
  display: flex;
  align-items: center;
  gap: 4px; /* MCP: itemSpacing */
  flex: 1;
  overflow-x: auto;
  overflow-y: hidden;
  scroll-behavior: smooth;
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE/Edge */
}

/* 隱藏滾動條 */
.horizontal-tabs .tabs-scroll-container::-webkit-scrollbar {
  display: none;
}

/* Tab Button - Default State (Current=False, State=Default) */
.horizontal-tabs .tab-button {
  /* MCP: 48×38px inside 46px container */
  height: 38px; /* MCP: absoluteBoundingBox.height (sm) */
  min-width: 48px; /* MCP: absoluteBoundingBox.width */
  padding: 8px 12px; /* MCP: paddingTop/Right/Bottom/Left */

  /* MCP: 背景透明 (no background) */
  background: transparent;
  border: none;
  border-radius: 6px; /* MCP: cornerRadius */

  /* MCP: 文字樣式 Kanit 300 16px, 白色文字 */
  font-family: 'Kanit', sans-serif; /* MCP: style.fontFamily */
  font-weight: 300; /* MCP: style.fontWeight */
  font-size: 16px; /* MCP: style.fontSize */
  line-height: 16px; /* MCP: style.lineHeightPx */
  color: rgba(255, 255, 255, 1); /* MCP: fills[0].color (default) */
  text-align: center;
  white-space: nowrap;

  cursor: pointer;
  transition: all 0.2s ease;
  flex-shrink: 0;
  box-sizing: border-box;
}

/* Tab Button - Active State (Current=True, State=Default) */
.horizontal-tabs .tab-button.active {
  /* MCP: 白色背景 */
  background: rgba(255, 255, 255, 1); /* MCP: fills[0].color (active) */

  /* MCP: 黑色文字 */
  color: rgba(0, 0, 0, 1); /* MCP: fills[0].color (active text) */
}

/* Tab Button - Hover State (Current=False, State=Hover) */
.horizontal-tabs .tab-button:hover:not(.active):not(.disabled) {
  /* MCP: 白色背景 */
  background: rgba(255, 255, 255, 1); /* MCP: fills[0].color (hover) */

  /* MCP: 黑色文字 */
  color: rgba(0, 0, 0, 1); /* MCP: fills[0].color (hover text) */
}

/* Tab Button - Disabled State (State=Disable) */
.horizontal-tabs .tab-button.disabled {
  /* MCP: 透明背景 */
  background: transparent;

  /* MCP: 灰色文字 */
  color: rgba(164, 167, 174, 1); /* MCP: fills[0].color (disabled) */

  cursor: not-allowed;
}

/* Medium Size Variant */
.horizontal-tabs .tab-button.md {
  height: 40px; /* MCP: md size is 40px instead of 38px */
}

/* Horizontal Tabs Hug Content 版本 - 修復 flex 佈局 */
.horizontal-tabs.hug-content {
  display: flex !important;
  align-items: center !important;
  gap: 16px !important;
  width: fit-content !important;
}

/* Horizontal Tabs 使用共用 Add Button 組件 */
.horizontal-tabs .add-button,
.horizontal-tabs-desktop .add-button {
  /* 繼承 .add-button 共用元件的所有樣式 */
  /* 確保正確定位和顯示 */
  flex-shrink: 0 !important;
}

/* Horizontal Tabs 使用共用 Carousel Arrow 組件 */
.horizontal-tabs .chevron-left,
.horizontal-tabs .chevron-right {
  /* 繼承 .carousel-arrow 共用元件的所有樣式 */
  /* 添加 Horizontal Tabs 特有的定位樣式 */
  position: absolute;
  top: 0;
  z-index: 10;

  /* 預設隱藏 */
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

.horizontal-tabs .chevron-left {
  left: 0;
}

.horizontal-tabs .chevron-right {
  right: 0;
}

/* 顯示箭頭 */
.horizontal-tabs .chevron-left.visible,
.horizontal-tabs .chevron-right.visible {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}

/* Horizontal Tabs 箭頭繼承共用元件樣式 */
/* 所有 hover 和 icon 樣式都由 .carousel-arrow 共用元件提供 */

/* Mobile 版本 - Dropdown 形式 */
.horizontal-tabs-mobile {
  /* MCP: 343×40px mobile 版本 */
  width: 343px;
  height: 40px;
  position: relative;
  display: none; /* 預設隱藏，響應式顯示 */
}

.horizontal-tabs-mobile .tab-dropdown {
  width: 100%;
  height: 100%;
  position: relative;
}

/* Dropdown Trigger - 基於 MCP 數據 */
.horizontal-tabs-mobile .dropdown-trigger {
  /* MCP: 343×40px input 樣式 */
  width: 100%;
  height: 40px;

  /* MCP: 背景和邊框 */
  background: rgba(255, 255, 255, 0.05); /* MCP: fills[0].color + opacity */
  border: 1px solid rgba(255, 255, 255, 0.1); /* MCP: strokes[0].color + opacity */
  border-radius: 8px; /* MCP: cornerRadius */

  /* MCP: 佈局和內邊距 */
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 14px; /* MCP: paddingTop/Right/Bottom/Left */
  gap: 8px; /* MCP: itemSpacing */

  /* MCP: 文字樣式 */
  font-family: 'Kanit', sans-serif; /* MCP: style.fontFamily */
  font-weight: 300; /* MCP: style.fontWeight */
  font-size: 16px; /* MCP: style.fontSize */
  line-height: 16px; /* MCP: style.lineHeightPx */
  color: rgba(255, 255, 255, 1); /* MCP: fills[0].color */
  text-align: left;

  cursor: pointer;
  transition: all 0.2s ease;
  box-sizing: border-box;
}

.horizontal-tabs-mobile .dropdown-trigger:hover {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.15);
}

/* Dropdown Trigger Icon */
.horizontal-tabs-mobile .dropdown-trigger svg {
  width: 20px; /* MCP: 20×20px chevron-down */
  height: 20px;
  stroke: rgba(255, 255, 255, 1); /* MCP: strokes[0].color */
  stroke-width: 2px; /* 統一 stroke-width 規範 */
  fill: none;
  transition: transform 0.2s ease;
}

.horizontal-tabs-mobile .dropdown-trigger.open svg {
  transform: rotate(180deg);
}

/* Dropdown Menu */
.horizontal-tabs-mobile .dropdown-menu {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  z-index: 1000;

  background: rgba(36, 36, 36, 1); /* 與 tab-bar 相同背景 */
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  margin-top: 4px;

  /* 預設隱藏 */
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px);
  transition: all 0.2s ease;

  max-height: 300px;
  overflow-y: auto;
}

.horizontal-tabs-mobile .dropdown-menu.open {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

/* Dropdown Item */
.horizontal-tabs-mobile .dropdown-item {
  width: 100%;
  height: 40px;

  display: flex;
  align-items: center;
  padding: 10px 14px;

  background: transparent;
  border: none;

  font-family: 'Kanit', sans-serif;
  font-weight: 300;
  font-size: 16px;
  line-height: 16px;
  color: rgba(255, 255, 255, 1);
  text-align: left;

  cursor: pointer;
  transition: all 0.2s ease;
  box-sizing: border-box;
}

.horizontal-tabs-mobile .dropdown-item:hover {
  background: rgba(255, 255, 255, 0.1);
}

.horizontal-tabs-mobile .dropdown-item.active {
  background: rgba(255, 255, 255, 1);
  color: rgba(0, 0, 0, 1);
}

.horizontal-tabs-mobile .dropdown-item.add-new {
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  color: rgba(164, 167, 174, 1);
}

.horizontal-tabs-mobile .dropdown-item.add-new:hover {
  color: rgba(255, 255, 255, 1);
}

/* 響應式斷點 */
@media (max-width: 767px) {
  /* 隱藏 Desktop 版本 */
  .horizontal-tabs-container {
    display: none;
  }

  /* 顯示 Mobile 版本 */
  .horizontal-tabs-mobile {
    display: block;
  }
}

@media (min-width: 768px) {
  /* 顯示 Desktop 版本 */
  .horizontal-tabs-container {
    display: flex;
  }

  /* 隱藏 Mobile 版本 */
  .horizontal-tabs-mobile {
    display: none;
  }
}

/* ==========================================================================
   Matrix Traits Cell Component - 基於 94:1027 MCP 數據 (Figma Layer: "matrix traits cell")
   ========================================================================== */
.matrix-traits-cell {
  display: flex; /* MCP: layoutMode: VERTICAL */
  flex-direction: column; /* MCP: VERTICAL 佈局 */
  width: 100%; /* Fill Container: 填滿父容器寬度 */
  height: 46px; /* MCP: absoluteBoundingBox.height */
  gap: 4px; /* MCP: itemSpacing */
  box-sizing: border-box;
  min-width: 300px; /* 調整: 最小寬度改為 300px */
  max-width: 503px; /* MCP: 保持最大寬度限制 */
}

/* Title 容器 - 基於 MCP Title (FRAME) */
.matrix-traits-cell .title-container {
  display: flex; /* MCP: layoutMode: HORIZONTAL */
  flex-direction: row; /* MCP: HORIZONTAL 佈局 */
  width: 100%; /* Fill Container: 填滿父容器寬度 */
  height: 22px; /* MCP: absoluteBoundingBox.height */
  align-items: center; /* MCP: 垂直居中對齊 */
  overflow: hidden; /* 防止內容溢出 */
}

/* Title 和 Badge 組合容器 - 讓 Badge 跟隨 Title */
.matrix-traits-cell .title-with-badge {
  display: flex;
  align-items: center;
  gap: 8px; /* MCP: itemSpacing */
  min-width: 0; /* 允許縮小 */
  flex: 1; /* 使用可用空間 */
  overflow: hidden; /* 防止溢出 */
}

/* Title 文字 - 基於 MCP Title (TEXT) */
.matrix-traits-cell .title-text {
  font-family: 'Kanit', sans-serif; /* MCP: style.fontFamily */
  font-weight: 300; /* 修正: 符合 font-weight 最大 300 規範 */
  font-size: 14px; /* MCP: style.fontSize */
  line-height: 20px; /* MCP: style.lineHeightPx */
  color: rgba(164, 167, 174, 1); /* MCP: fills[0].color (Gray/400) */
  height: 20px; /* MCP: absoluteBoundingBox.height */
  overflow: hidden; /* 隱藏溢出內容 */
  text-overflow: ellipsis; /* 顯示省略號 */
  white-space: nowrap; /* 不換行 */
  flex-shrink: 1; /* 允許縮小以讓出空間給 Badge */
}

/* Badge 容器 - 確保優先顯示並跟隨文字，完全使用共用元件樣式 */
.matrix-traits-cell .title-container .earned-badge {
  flex-shrink: 0; /* 不允許縮小，優先保證 Badge 完整顯示 */
  /* 其他樣式完全繼承自 .earned-badge 共用元件 */
}

/* Progress 容器 - 基於 MCP Frame 1 */
.matrix-traits-cell .progress-container {
  display: flex; /* MCP: layoutMode: HORIZONTAL */
  flex-direction: row; /* MCP: HORIZONTAL 佈局 */
  width: 100%; /* Fill Container: 填滿父容器寬度 */
  height: 20px; /* MCP: absoluteBoundingBox.height */
  gap: 8px; /* MCP: itemSpacing */
  align-items: center; /* MCP: 垂直居中對齊 */
}

/* Progress Bar - 基於 MCP Progress bar (INSTANCE) */
.matrix-traits-cell .progress-bar {
  flex: 1; /* Fill Container: 自動填充剩餘空間 */
  height: 8px; /* MCP: absoluteBoundingBox.height */
  position: relative;
  border-radius: 4px; /* MCP: cornerRadius */
  background: rgba(65, 70, 81, 1); /* MCP: Background fills[0].color */
  overflow: hidden;
  min-width: 200px; /* 最小寬度保證進度條可見 */
  max-width: 440px; /* MCP: 保持最大寬度限制 */
}

/* Progress Fill - 基於 MCP Progress (RECTANGLE) */
.matrix-traits-cell .progress-fill {
  width: 66.12%; /* MCP: 290.95px / 440px = 66.12% */
  height: 100%;
  background: rgba(255, 255, 255, 1); /* MCP: fills[0].color */
  border-radius: 4px; /* MCP: cornerRadius */
  transition: width 0.3s ease;
}

/* Progress Value Text - 基於 MCP 000/255 (TEXT) */
.matrix-traits-cell .progress-value {
  font-family: 'Kanit', sans-serif; /* MCP: style.fontFamily */
  font-weight: 300; /* MCP: style.fontWeight */
  font-size: 14px; /* MCP: style.fontSize */
  line-height: 20px; /* MCP: style.lineHeightPx */
  color: rgba(164, 167, 174, 1); /* MCP: fills[0].color (Gray/400) */
  width: 55px; /* MCP: absoluteBoundingBox.width */
  height: 20px; /* MCP: absoluteBoundingBox.height */
  flex-shrink: 0;
  text-align: right;
}

/* ==========================================================================
   Matrix Traits Cell Fill Container - 響應式填充設計
   ========================================================================== */

/* Fill Container 基本行為 - 自動適應父容器寬度 */
/* 主要樣式已在上方定義，這裡提供額外的響應式優化 */

/* 小螢幕優化 (< 480px) - 確保極小螢幕的可用性 */
@media (max-width: 479px) {
  .matrix-traits-cell {
    min-width: 300px; /* 統一最小寬度為 300px */
  }

  .matrix-traits-cell .progress-bar {
    min-width: 150px; /* 更小的進度條最小寬度 */
  }

  .matrix-traits-cell .title-text {
    font-size: 12px; /* 稍微縮小字體以節省空間 */
    line-height: 18px;
  }

  .matrix-traits-cell .progress-value {
    font-size: 12px; /* 稍微縮小字體以節省空間 */
    line-height: 18px;
    width: 45px; /* 稍微縮小寬度 */
  }
}

/* 大螢幕優化 (>= 720px) - 保持 MCP 比例但允許更大寬度 */
@media (min-width: 720px) {
  .matrix-traits-cell {
    max-width: none; /* 移除最大寬度限制，允許更大容器 */
  }

  .matrix-traits-cell .progress-bar {
    max-width: none; /* 移除進度條最大寬度限制 */
  }
}
